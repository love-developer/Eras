@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap');

@custom-variant dark (&:is(.dark *));

:root {
  --font-size: 16px;
  --background: #ffffff;
  --foreground: oklch(0.145 0 0);
  --card: #ffffff;
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: #030213;
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.95 0.0058 264.53);
  --secondary-foreground: #030213;
  --muted: #ececf0;
  --muted-foreground: #717182;
  --accent: #e9ebef;
  --accent-foreground: #030213;
  --destructive: #d4183d;
  --destructive-foreground: #ffffff;
  --border: rgba(0, 0, 0, 0.1);
  --input: transparent;
  --input-background: #f3f3f5;
  --switch-background: #cbced4;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: #030213;
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  /* Capsule Status Colors - Cosmic Theme */
  --capsule-scheduled: 59 130 246; /* blue-500 */
  --capsule-delivered: 16 185 129; /* emerald-500 */
  --capsule-received: 245 158 11; /* amber-500 */
  --capsule-draft: 167 139 250; /* violet-400 */
}

/* Mobile Tutorial Fullscreen Override */
.tutorial-mobile-fullscreen {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  height: 100dvh !important;
  margin: 0 !important;
  padding: 0 !important;
  z-index: 2147483647 !important; /* Maximum z-index */
  transform: none !important;
  overflow: hidden !important;
  pointer-events: auto !important;
  background-color: #000000 !important; /* Solid black background */
}

.tutorial-mobile-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background-color: #000000 !important; /* 100% solid black */
  z-index: 1 !important;
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-input-background: var(--input-background);
  --color-switch-background: var(--switch-background);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/**
 * Base typography. This is not applied to elements which have an ancestor with a Tailwind text class.
 */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    h1 {
      font-size: var(--text-2xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h2 {
      font-size: var(--text-xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h3 {
      font-size: var(--text-lg);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h4 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    p {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }

    label {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    button {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    input {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }
  }
}

html {
  font-size: var(--font-size);
}

/* CRITICAL: Password input MUST be editable */
input[type="password"] {
  color: rgb(0, 0, 0) !important;
  -webkit-text-fill-color: rgb(0, 0, 0) !important;
  opacity: 1 !important;
  background: #f3f3f5 !important;
  pointer-events: auto !important;
  -webkit-user-select: text !important;
  user-select: text !important;
}

.dark input[type="password"] {
  color: rgb(255, 255, 255) !important;
  -webkit-text-fill-color: rgb(255, 255, 255) !important;
  background: rgba(255, 255, 255, 0.1) !important;
}

/* Mobile viewport optimizations for all devices */
@media screen and (max-width: 1023px) {
  html {
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }
  
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height for mobile */
  }
}

/* iPhone 16 Pro Max and similar large mobile devices */
@media screen and (min-width: 428px) and (max-width: 1023px) and (min-height: 926px) {
  .container {
    max-width: none;
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

/* iPhone 16 Pro and similar devices */
@media screen and (min-width: 393px) and (max-width: 427px) and (min-height: 852px) {
  .container {
    padding-left: 0.875rem;
    padding-right: 0.875rem;
  }
}

/* iPhone 16 and similar devices */
@media screen and (min-width: 375px) and (max-width: 392px) and (min-height: 812px) {
  .container {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
}

/* Completely hide native video controls on all browsers */
video::-webkit-media-controls {
  display: none !important;
  -webkit-appearance: none !important;
}

video::-webkit-media-controls-enclosure {
  display: none !important;
}

video::-webkit-media-controls-panel {
  display: none !important;
}

video::-webkit-media-controls-play-button {
  display: none !important;
}

video::-webkit-media-controls-start-playback-button {
  display: none !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

video::-webkit-media-controls-overlay-play-button {
  display: none !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

video::-internal-media-controls-overlay-cast-button {
  display: none !important;
  opacity: 0 !important;
}

video::-webkit-media-controls-timeline {
  display: none !important;
}

video::-webkit-media-controls-current-time-display {
  display: none !important;
}

video::-webkit-media-controls-time-remaining-display {
  display: none !important;
}

video::-moz-media-controls {
  display: none !important;
}

video::--webkit-media-controls-overlay-enclosure {
  display: none !important;
}

/* VAULT VIDEO: Force controls to be visible for vault preview videos */
.vault-video-with-controls::-webkit-media-controls {
  display: flex !important;
  -webkit-appearance: initial !important;
}

.vault-video-with-controls::-webkit-media-controls-enclosure {
  display: flex !important;
}

.vault-video-with-controls::-webkit-media-controls-panel {
  display: flex !important;
}

.vault-video-with-controls::-webkit-media-controls-play-button {
  display: flex !important;
}

.vault-video-with-controls::-webkit-media-controls-start-playback-button {
  display: flex !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}

.vault-video-with-controls::-webkit-media-controls-overlay-play-button {
  display: flex !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}

.vault-video-with-controls::-webkit-media-controls-timeline {
  display: flex !important;
}

.vault-video-with-controls::-webkit-media-controls-current-time-display {
  display: flex !important;
}

.vault-video-with-controls::-webkit-media-controls-time-remaining-display {
  display: flex !important;
}

.vault-video-with-controls::-moz-media-controls {
  display: block !important;
}

/* Title icon animations */
@keyframes pulse-subtle {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.85;
  }
}

.animate-pulse-subtle {
  animation: pulse-subtle 3s ease-in-out infinite;
}

/* Smaller mobile devices */
@media screen and (max-width: 374px) {
  .container {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }
}

/* Safe area handling for devices with notches */
@supports (padding: max(0px)) {
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Prevent zoom on input focus for iOS */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  select,
  textarea,
  input[type="text"],
  input[type="password"],
  input[type="datetime"],
  input[type="datetime-local"],
  input[type="date"],
  input[type="month"],
  input[type="time"],
  input[type="week"],
  input[type="number"],
  input[type="email"],
  input[type="url"],
  input[type="search"],
  input[type="tel"],
  input[type="color"] {
    font-size: 16px !important;
  }
}

/* iPhone-specific optimizations */
@media only screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) {
  /* iPhone 16 Pro Max */
  .container {
    max-width: 100%;
    padding: 0 1rem;
  }
}

@media only screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) {
  /* iPhone 16 Pro */
  .container {
    max-width: 100%;
    padding: 0 0.875rem;
  }
}

@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) {
  /* iPhone 16 */
  .container {
    max-width: 100%;
    padding: 0 0.75rem;
  }
}

/* iPhone Safari Authentication and Button Fixes */
@media screen and (-webkit-min-device-pixel-ratio: 2) {
  /* Universal button centering for iPhone - ONLY BUTTONS */
  form button,
  button,
  .auth-button,
  [role="button"] {
    -webkit-appearance: none !important;
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    vertical-align: middle !important;
    
    /* Fix iPhone font rendering */
    font-size: 16px !important; /* Prevent iOS zoom */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    line-height: 1.2 !important;
    
    /* Prevent text shifting */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
    
    /* Touch optimizations */
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    user-select: none !important;
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
    
    /* Minimum touch targets */
    min-height: 44px !important;
    min-width: 44px !important;
  }
  
  /* Force textareas and text inputs to be LEFT ALIGNED */
  textarea,
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"] {
    text-align: left !important;
    -webkit-text-align: left !important;
    display: block !important;
  }
  
  /* All text content in buttons gets perfect centering */
  button *,
  .auth-button *,
  [role="button"] *,
  form button * {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    vertical-align: middle !important;
    line-height: 1.2 !important;
    
    /* Perfect text positioning */
    position: relative !important;
    top: 0 !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    
    /* Consistent font rendering */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
  }
  
  /* Icons get perfect alignment */
  button svg,
  .auth-button svg,
  [role="button"] svg {
    display: block !important;
    -webkit-flex-shrink: 0 !important;
    flex-shrink: 0 !important;
    -webkit-align-self: center !important;
    align-self: center !important;
    vertical-align: middle !important;
    position: relative !important;
    top: 0 !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
}

/* iPhone-specific authentication optimizations - Enhanced */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari only */
  form {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000px;
    perspective: 1000px;
  }
  
  input {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  button {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Prevent iOS Safari form zoom */
  input[type="email"],
  input[type="password"],
  input[type="text"] {
    font-size: 16px !important;
    -webkit-text-size-adjust: 100%;
    -webkit-appearance: none;
    -moz-appearance: textfield;
  }
  
  /* Optimize button touch response */
  button[type="submit"],
  .auth-button {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: rgba(0,0,0,0);
    -webkit-focus-ring-color: rgba(255,255,255,0);
    outline: none;
  }
  
  /* Improve authentication form performance */
  .auth-form {
    -webkit-overflow-scrolling: touch;
    -webkit-transform: translate3d(0,0,0);
    transform: translate3d(0,0,0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
  
  /* Force GPU acceleration for auth elements */
  .auth-form * {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
}

/* Improve touch targets on mobile */
@media (hover: none) and (pointer: coarse) {
  button, 
  [role="button"],
  input[type="submit"],
  input[type="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Improve input touch targets */
  input, 
  textarea,
  select {
    min-height: 44px;
    touch-action: manipulation;
  }

  /* Better button feedback on touch */
  button:active,
  [role="button"]:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }

  /* Prevent callout on touch and hold */
  * {
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
  }

  /* Allow text selection only for inputs and contenteditable */
  input, 
  textarea, 
  [contenteditable="true"] {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }
  
  /* CRITICAL FIX: Password inputs MUST be editable on mobile */
  input[type="password"] {
    color: rgb(0, 0, 0) !important;
    -webkit-text-fill-color: rgb(0, 0, 0) !important;
    opacity: 1 !important;
    background: #f3f3f5 !important;
    pointer-events: auto !important;
    -webkit-user-select: text !important;
    user-select: text !important;
  }
  
  /* Dark mode password visibility */
  .dark input[type="password"] {
    color: rgb(255, 255, 255) !important;
    -webkit-text-fill-color: rgb(255, 255, 255) !important;
    background: rgba(255, 255, 255, 0.1) !important;
  }
}

/* CRITICAL: Mobile scroll performance improvements */
@media (max-width: 768px) {
  /* Main scroll containers - prevent scroll blocking */
  [data-radix-scroll-area-viewport],
  .overflow-y-auto,
  .overflow-auto {
    /* CRITICAL: Ensure smooth momentum scrolling */
    -webkit-overflow-scrolling: touch !important;
    
    /* CRITICAL: Allow instant touch response during momentum scroll */
    touch-action: pan-y !important;
    overscroll-behavior-y: contain !important;
    
    /* Force GPU compositing for smooth scroll */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    will-change: scroll-position;
  }
  
  /* Disable pointer events during scroll for better performance */
  body.is-scrolling [data-capsule-grid] > * {
    pointer-events: none !important;
  }
  
  body.is-scrolling [data-capsule-grid] {
    pointer-events: auto !important;
  }
  
  /* MOBILE ONLY: Lift password toggle eye icon up by 3px */
  .password-toggle-btn {
    transform: translateY(calc(-50% - 3px)) !important;
  }
}

/* Enhanced Eclipse Logo Animations */
@keyframes eclipse-glimmer {
  0%, 100% { 
    opacity: 0.7;
    filter: brightness(1) drop-shadow(0 0 2px rgba(255, 255, 255, 0.3));
  }
  50% { 
    opacity: 1;
    filter: brightness(1.05) drop-shadow(0 0 4px rgba(255, 255, 255, 0.5));
  }
}

@keyframes logo-title-glow {
  0%, 100% {
    text-shadow: 0 0 5px rgba(147, 51, 234, 0.3);
    filter: brightness(1);
  }
  50% {
    text-shadow: 0 0 20px rgba(147, 51, 234, 0.6), 0 0 30px rgba(147, 51, 234, 0.4);
    filter: brightness(1.1);
  }
}

/* Radial Gradient Utilities for Aurora Background */
@layer utilities {
  .bg-gradient-radial {
    background-image: radial-gradient(circle at center, var(--tw-gradient-stops));
  }
}

@keyframes logo-subtitle-shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

@keyframes logo-hover-bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-3px);
  }
  60% {
    transform: translateY(-1px);
  }
}

@keyframes brand-sparkle {
  0%, 100% {
    opacity: 0;
    transform: scale(0) rotate(0deg);
  }
  50% {
    opacity: 1;
    transform: scale(1) rotate(180deg);
  }
}

@keyframes fadeInWithGlow {
  0% {
    opacity: 0;
    filter: drop-shadow(0 0 0px rgba(168, 85, 247, 0));
  }
  50% {
    opacity: 0.5;
    filter: drop-shadow(0 0 8px rgba(168, 85, 247, 0.6));
  }
  100% {
    opacity: 1;
    filter: drop-shadow(0 0 4px rgba(168, 85, 247, 0.3));
  }
}

.animate-eclipse-glimmer {
  animation: eclipse-glimmer 4s ease-in-out infinite;
}

.animate-logo-title-glow {
  animation: logo-title-glow 3s ease-in-out infinite;
}

.animate-logo-subtitle-shimmer {
  background: linear-gradient(
    90deg,
    transparent,
    rgba(147, 51, 234, 0.4),
    transparent
  );
  background-size: 200% 100%;
  animation: logo-subtitle-shimmer 3s ease-in-out infinite;
  -webkit-background-clip: text;
  background-clip: text;
}

.animate-logo-hover-bounce {
  animation: logo-hover-bounce 0.6s ease-in-out;
}

/* Create Capsule Step Animations */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out forwards;
}

.animate-brand-sparkle {
  animation: brand-sparkle 2s ease-in-out infinite;
}

/* Enhanced logo hover effects */
.logo-container:hover .animate-eclipse-glimmer {
  animation-duration: 2s;
  animation-timing-function: ease-out;
}

.logo-container:hover .logo-title {
  animation: logo-title-glow 1.5s ease-in-out infinite;
}

/* Logo text enhancement classes */
.logo-gradient-text {
  background: linear-gradient(
    135deg,
    #1e293b 0%,
    #7c3aed 25%,
    #ec4899 50%,
    #7c3aed 75%,
    #1e293b 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: logo-gradient-shift 4s ease-in-out infinite;
}

.dark .logo-gradient-text {
  background: linear-gradient(
    135deg,
    #ffffff 0%,
    #a855f7 25%,
    #ec4899 50%,
    #a855f7 75%,
    #ffffff 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

@keyframes logo-gradient-shift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* Logo rotation animation - Pure CSS for mobile Safari */
@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* WebKit-specific keyframes for iOS Safari */
@-webkit-keyframes logo-spin {
  from {
    -webkit-transform: rotate(0deg);
  }
  to {
    -webkit-transform: rotate(360deg);
  }
}

.logo-spin-animation {
  animation: logo-spin 20s linear infinite;
  -webkit-animation: logo-spin 20s linear infinite;
}

.moment-prism-spinner {
  animation: logo-spin 20s linear infinite;
  -webkit-animation: logo-spin 20s linear infinite;
  transform-origin: center center;
  -webkit-transform-origin: center center;
}

/* Logo breathe animation - More noticeable scale pulse to draw attention */
@keyframes breathe {
  0%, 100% {
    transform: scale(1);
    filter: drop-shadow(0 0 0px rgba(168, 85, 247, 0));
  }
  50% {
    transform: scale(1.06);
    filter: drop-shadow(0 0 25px rgba(168, 85, 247, 0.6));
  }
}

.animate-breathe {
  animation: breathe 2s ease-in-out;
}

@keyframes fadeInOut {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  20% {
    opacity: 1;
    transform: translateY(0);
  }
  80% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-10px);
  }
}

/* Premium typography enhancements */
.logo-title-enhanced {
  font-feature-settings: 'liga' 1, 'kern' 1, 'ss01' 1;
  font-optical-sizing: auto;
  font-variation-settings: 'wght' 900, 'slnt' 0;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.logo-subtitle-enhanced {
  font-feature-settings: 'liga' 1, 'kern' 1;
  font-optical-sizing: auto;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Text Overlay Special Effects */
.text-outlined {
  -webkit-text-stroke: 2px white;
  text-stroke: 2px white;
  -webkit-text-fill-color: transparent;
  text-fill-color: transparent;
}

.text-outlined-thick {
  -webkit-text-stroke: 3px white;
  text-stroke: 3px white;
  -webkit-text-fill-color: transparent;
  text-fill-color: transparent;
}

.text-outlined-black {
  -webkit-text-stroke: 2px black;
  text-stroke: 2px black;
  -webkit-text-fill-color: white;
  text-fill-color: white;
}

/* Custom text animations for overlay */
@keyframes text-pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.05); }
}

@keyframes text-glow {
  0%, 100% { filter: drop-shadow(0 0 8px rgba(255,255,255,0.8)); }
  50% { filter: drop-shadow(0 0 16px rgba(255,255,255,1)); }
}

@keyframes text-rainbow {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}

.animate-text-pulse {
  animation: text-pulse 2s ease-in-out infinite;
}

.animate-text-glow {
  animation: text-glow 2s ease-in-out infinite;
}

.animate-text-rainbow {
  animation: text-rainbow 3s linear infinite;
}

/* Enhanced Text Animations */
@keyframes text-bounce-in {
  0% { 
    opacity: 0; 
    transform: scale(0.3) translateY(-100px); 
  }
  50% { 
    opacity: 1; 
    transform: scale(1.1) translateY(0); 
  }
  70% { 
    transform: scale(0.9); 
  }
  100% { 
    transform: scale(1); 
  }
}

@keyframes text-spring {
  0% { 
    opacity: 0; 
    transform: scale(0) rotate(-360deg); 
  }
  50% { 
    opacity: 1; 
    transform: scale(1.2) rotate(-180deg); 
  }
  100% { 
    transform: scale(1) rotate(0deg); 
  }
}

@keyframes text-shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
  20%, 40%, 60%, 80% { transform: translateX(10px); }
}

@keyframes text-wobble {
  0% { transform: translateX(0%) rotate(0deg); }
  15% { transform: translateX(-25px) rotate(-5deg); }
  30% { transform: translateX(20px) rotate(3deg); }
  45% { transform: translateX(-15px) rotate(-3deg); }
  60% { transform: translateX(10px) rotate(2deg); }
  75% { transform: translateX(-5px) rotate(-1deg); }
  100% { transform: translateX(0%) rotate(0deg); }
}

@keyframes text-glitch {
  0%, 100% { 
    transform: translate(0); 
    filter: hue-rotate(0deg);
  }
  10% { 
    transform: translate(-2px, 2px); 
    filter: hue-rotate(90deg);
  }
  20% { 
    transform: translate(-8px, -2px); 
    filter: hue-rotate(180deg);
  }
  30% { 
    transform: translate(8px, 2px); 
    filter: hue-rotate(270deg);
  }
  40% { 
    transform: translate(-2px, -8px); 
    filter: hue-rotate(360deg);
  }
  50% { 
    transform: translate(2px, 8px); 
    filter: hue-rotate(45deg);
  }
  60% { 
    transform: translate(-8px, 2px); 
    filter: hue-rotate(135deg);
  }
  70% { 
    transform: translate(8px, -2px); 
    filter: hue-rotate(225deg);
  }
  80% { 
    transform: translate(-2px, 8px); 
    filter: hue-rotate(315deg);
  }
  90% { 
    transform: translate(2px, -8px); 
    filter: hue-rotate(405deg);
  }
}

@keyframes text-wave {
  0%, 100% { transform: translateY(0px); }
  25% { transform: translateY(-10px); }
  50% { transform: translateY(0px); }
  75% { transform: translateY(10px); }
}

@keyframes text-elastic {
  0% { 
    transform: scale(0) rotate(0deg); 
    opacity: 0; 
  }
  50% { 
    transform: scale(1.3) rotate(180deg); 
    opacity: 1; 
  }
  75% { 
    transform: scale(0.8) rotate(270deg); 
  }
  100% { 
    transform: scale(1) rotate(360deg); 
  }
}

@keyframes text-matrix {
  0% { 
    opacity: 0; 
    transform: translateY(-50px) scaleY(0); 
    filter: brightness(0); 
  }
  20% { 
    opacity: 0.5; 
    transform: translateY(-25px) scaleY(0.5); 
    filter: brightness(2) hue-rotate(120deg); 
  }
  40% { 
    opacity: 0.8; 
    transform: translateY(-10px) scaleY(0.8); 
    filter: brightness(3) hue-rotate(240deg); 
  }
  60% { 
    opacity: 1; 
    transform: translateY(-5px) scaleY(0.9); 
    filter: brightness(1.5) hue-rotate(360deg); 
  }
  100% { 
    opacity: 1; 
    transform: translateY(0) scaleY(1); 
    filter: brightness(1) hue-rotate(0deg); 
  }
}

/* Enhanced CreateCapsule Animations */
@keyframes bounce-in {
  0% { 
    opacity: 0; 
    transform: scale(0.3) translateY(-100px); 
  }
  50% { 
    opacity: 1; 
    transform: scale(1.05) translateY(0); 
  }
  70% { 
    transform: scale(0.95); 
  }
  100% { 
    transform: scale(1); 
  }
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(147, 51, 234, 0.5);
  }
  50% {
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.8), 0 0 30px rgba(147, 51, 234, 0.6);
  }
}

@keyframes success-flash {
  0% {
    background-color: transparent;
  }
  50% {
    background-color: rgba(34, 197, 94, 0.1);
  }
  100% {
    background-color: transparent;
  }
}

@keyframes error-shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
  20%, 40%, 60%, 80% { transform: translateX(8px); }
}

@keyframes loading-dots {
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Animation Classes */
.animate-bounce-in {
  animation: bounce-in 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-success-flash {
  animation: success-flash 0.6s ease-in-out;
}

.animate-error-shake {
  animation: error-shake 0.6s ease-in-out;
}

.animate-loading-dots {
  animation: loading-dots 1.4s ease-in-out infinite;
}

/* Form field focus enhancements */
.form-field-focus {
  transition: all 0.2s ease-in-out;
}

.form-field-focus:focus-within {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Hover enhancements for mobile */
@media (hover: none) and (pointer: coarse) {
  .hover-lift:active {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
}

/* Mobile-optimized hover effects */
.hover-lift {
  transition: all 0.2s ease-in-out;
}

@media (hover: hover) and (pointer: fine) {
  .hover-lift:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
}

/* ==========================================
   MOBILE-ONLY TOGGLE SWITCH IMPROVEMENTS
   ========================================== */
@media screen and (max-width: 1023px) {
  /* Make toggle switches bigger and more visible on mobile */
  [data-slot="switch"] {
    height: 32px !important;
    width: 60px !important;
    border: 2px solid rgba(255, 255, 255, 0.2) !important;
  }
  
  /* Checked state - bright green = ON */
  [data-slot="switch"][data-state="checked"] {
    background: #10b981 !important;
  }
  
  /* Unchecked state - dark gray = OFF */
  [data-slot="switch"][data-state="unchecked"] {
    background: #475569 !important;
  }
  
  /* Hide the toggle thumb on mobile - not needed */
  [data-slot="switch-thumb"] {
    display: none !important;
  }
}

/* Force vibrant colors on mobile devices */
@media screen and (max-width: 1023px) {
  /* Ensure gradient backgrounds render with full vibrancy */
  .bg-gradient-to-br,
  .bg-gradient-to-r,
  .bg-gradient-to-t,
  .bg-gradient-to-l,
  .bg-gradient-to-b {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-perspective: 1000px;
    perspective: 1000px;
  }
  
  /* Enhanced color rendering for mobile */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Ensure shadows and glows render properly */
  [class*="shadow-purple"],
  [class*="shadow-fuchsia"],
  [class*="shadow-pink"] {
    -webkit-filter: drop-shadow(0 0 0 transparent);
    filter: drop-shadow(0 0 0 transparent);
    will-change: filter;
  }
}

/* Mobile touch scale effects */
.active\:scale-95:active {
  transform: scale(0.95);
}

.active\:scale-98:active {
  transform: scale(0.98);
}

/* Line clamp utilities for mobile */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

/* Ensure text doesn't overflow in buttons */
.template-button-text {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  max-width: 100%;
}

/* Hide scrollbar while maintaining scroll functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Dialog z-index override for folder overlay compatibility - MOBILE ONLY */
@media screen and (max-width: 1023px) {
  [data-slot="dialog-overlay"],
  [data-slot="dialog-content"] {
    z-index: 10000 !important;
  }
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ==========================================
   SURGICAL HOVER STATE FIX FOR SCROLLING
   ========================================== */

/* LAYER 1: Disable pointer events when scrolling (prevents new hovers) */
body.is-scrolling * {
  pointer-events: none !important;
}

/* LAYER 2: Disable transitions during scroll for instant state changes */
body.is-scrolling [data-capsule-card] {
  transition-duration: 0ms !important;
}

/* LAYER 3: Reset ONLY hover-related transforms (keep content visible) */
body.is-scrolling [data-capsule-card]:hover {
  transform: none !important;
  scale: 1 !important;
  box-shadow: none !important;
}

/* LAYER 4: Hide ONLY the hover overlay gradient (not content) */
body.is-scrolling [data-capsule-card] > div.group-hover\:opacity-20 {
  opacity: 0 !important;
}

/* ðŸŽ  PHASE 3: Carousel Snap Scrolling */
.snap-x {
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.snap-center {
  scroll-snap-align: center;
  scroll-snap-stop: always;
}

.snap-start {
  scroll-snap-align: start;
  scroll-snap-stop: always;
}

/* Smooth scrolling for carousels */
.carousel-scroll {
  scroll-behavior: smooth;
}

/* Animation Classes */
.animate-text-bounce-in {
  animation: text-bounce-in 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-text-spring {
  animation: text-spring 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-text-shake {
  animation: text-shake 0.8s ease-in-out;
}

.animate-text-wobble {
  animation: text-wobble 1s ease-in-out;
}

.animate-text-glitch {
  animation: text-glitch 1s ease-in-out;
}

.animate-text-wave {
  animation: text-wave 2s ease-in-out infinite;
}

.animate-text-elastic {
  animation: text-elastic 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-text-matrix {
  animation: text-matrix 2s ease-out;
}

/* ULTRA WOW FACTOR ANIMATIONS FOR CREATE TAB */
@keyframes neon-pulse {
  0%, 100% {
    filter: drop-shadow(0 0 2px currentColor) drop-shadow(0 0 8px currentColor);
    opacity: 1;
  }
  50% {
    filter: drop-shadow(0 0 8px currentColor) drop-shadow(0 0 20px currentColor) drop-shadow(0 0 30px currentColor);
    opacity: 0.9;
  }
}

@keyframes float-bounce {
  0%, 100% {
    transform: translateY(0px) scale(1);
  }
  25% {
    transform: translateY(-8px) scale(1.02);
  }
  50% {
    transform: translateY(-4px) scale(1.01);
  }
  75% {
    transform: translateY(-12px) scale(1.03);
  }
}

@keyframes shimmer-wave {
  0% {
    background-position: -200% center;
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.3);
  }
  100% {
    background-position: 200% center;
    filter: brightness(1);
  }
}

@keyframes rainbow-border {
  0% {
    filter: hue-rotate(0deg) brightness(1.2) saturate(1.5);
  }
  100% {
    filter: hue-rotate(360deg) brightness(1.2) saturate(1.5);
  }
}

@keyframes particle-float {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(1);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translate(var(--tw-translate-x, 0), -100vh) rotate(360deg) scale(0.5);
    opacity: 0;
  }
}

@keyframes glow-pulse-rainbow {
  0% {
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.6), 0 0 40px rgba(147, 51, 234, 0.4), 0 0 60px rgba(147, 51, 234, 0.2);
  }
  25% {
    box-shadow: 0 0 20px rgba(236, 72, 153, 0.6), 0 0 40px rgba(236, 72, 153, 0.4), 0 0 60px rgba(236, 72, 153, 0.2);
  }
  50% {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.6), 0 0 40px rgba(59, 130, 246, 0.4), 0 0 60px rgba(59, 130, 246, 0.2);
  }
  75% {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.6), 0 0 40px rgba(16, 185, 129, 0.4), 0 0 60px rgba(16, 185, 129, 0.2);
  }
  100% {
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.6), 0 0 40px rgba(147, 51, 234, 0.4), 0 0 60px rgba(147, 51, 234, 0.2);
  }
}

@keyframes pop-bounce {
  0% {
    transform: scale(0.8);
  }
  50% {
    transform: scale(1.15) rotate(3deg);
  }
  70% {
    transform: scale(0.95) rotate(-2deg);
  }
  85% {
    transform: scale(1.05) rotate(1deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
  }
}

@keyframes slide-in-bounce {
  0% {
    transform: translateX(-100%) rotate(-10deg);
    opacity: 0;
  }
  60% {
    transform: translateX(10%) rotate(5deg);
    opacity: 1;
  }
  80% {
    transform: translateX(-5%) rotate(-2deg);
  }
  100% {
    transform: translateX(0%) rotate(0deg);
  }
}

@keyframes wiggle {
  0%, 100% { transform: rotate(-3deg); }
  50% { transform: rotate(3deg); }
}

@keyframes sparkle-burst {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 0;
  }
  50% {
    transform: scale(1.5) rotate(180deg);
    opacity: 1;
  }
  100% {
    transform: scale(0) rotate(360deg);
    opacity: 0;
  }
}

@keyframes morph-blob {
  0%, 100% {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
  }
  50% {
    border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
  }
}

.animate-neon-pulse {
  animation: neon-pulse 2s ease-in-out infinite;
}

.animate-float-bounce {
  animation: float-bounce 3s ease-in-out infinite;
}

.animate-shimmer-wave {
  animation: shimmer-wave 3s ease-in-out infinite;
}

.animate-rainbow-border {
  animation: rainbow-border 8s linear infinite;
}

.animate-particle-float {
  animation: particle-float 8s ease-in-out infinite;
}

.animate-glow-pulse-rainbow {
  animation: glow-pulse-rainbow 4s ease-in-out infinite;
}

.animate-pop-bounce {
  animation: pop-bounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-slide-in-bounce {
  animation: slide-in-bounce 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-wiggle {
  animation: wiggle 1s ease-in-out infinite;
}

.animate-sparkle-burst {
  animation: sparkle-burst 2s ease-in-out infinite;
}

.animate-morph-blob {
  animation: morph-blob 8s ease-in-out infinite;
}

/* Glassmorphism effect */
.glass-effect {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.dark .glass-effect {
  background: rgba(15, 23, 42, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Ultra vibrant gradient backgrounds */
.gradient-mesh {
  background: 
    radial-gradient(at 40% 20%, rgba(147, 51, 234, 0.3) 0px, transparent 50%),
    radial-gradient(at 80% 0%, rgba(236, 72, 153, 0.3) 0px, transparent 50%),
    radial-gradient(at 0% 50%, rgba(59, 130, 246, 0.3) 0px, transparent 50%),
    radial-gradient(at 80% 50%, rgba(16, 185, 129, 0.3) 0px, transparent 50%),
    radial-gradient(at 0% 100%, rgba(251, 191, 36, 0.3) 0px, transparent 50%),
    radial-gradient(at 80% 100%, rgba(239, 68, 68, 0.3) 0px, transparent 50%);
}

/* Calendar and Popover Z-Index Fixes */
[data-radix-popper-content-wrapper] {
  z-index: 9999 !important;
}

[data-radix-portal] {
  z-index: 9999 !important;
}

[data-slot="popover-content"] {
  z-index: 9999 !important;
}

/* Ensure calendar popover appears above all content */
.rdp {
  position: relative;
  z-index: 10;
}

/* Fix for calendar popover positioning */
[data-radix-popover-content] {
  z-index: 9999 !important;
  position: fixed !important;
}

/* Calendar mobile optimizations */
@media screen and (max-width: 640px) {
  .rdp {
    font-size: 14px;
    width: 100%;
    max-width: 320px;
  }
  
  .rdp-head_cell,
  .rdp-cell {
    width: calc(100% / 7);
    min-width: calc(100% / 7);
    max-width: calc(100% / 7);
  }
  
  .rdp-button {
    width: 36px;
    height: 36px;
    min-width: 36px;
    min-height: 36px;
    font-size: 14px;
  }
  
  .rdp-head_cell {
    font-size: 12px;
    height: 32px;
  }
  
  .rdp-nav_button {
    min-height: 32px;
    min-width: 32px;
  }
  
  /* Ensure calendar doesn't get cut off on mobile */
  [data-radix-popper-content-wrapper] {
    max-width: calc(100vw - 2rem) !important;
    max-height: calc(100vh - 4rem) !important;
  }
  
  [data-slot="popover-content"] {
    max-width: calc(100vw - 2rem) !important;
    width: auto !important;
  }
}

/* Calendar touch improvements */
@media (hover: none) and (pointer: coarse) {
  .rdp-button {
    width: 40px;
    height: 40px;
    min-height: 40px;
    min-width: 40px;
  }
  
  .rdp-head_cell,
  .rdp-cell {
    height: 40px;
    min-height: 40px;
  }
}

/* Main Navigation Layout Protection */
@media screen and (max-width: 639px) {
  /* Protect main navigation from being forced into single column */
  .mb-6 > .grid.grid-cols-2.sm\\:flex,
  .mb-8 > .grid.grid-cols-2.sm\\:flex,
  .mb-6.sm\\:mb-8 > .grid.grid-cols-2.sm\\:flex {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 0.75rem !important;
  }
}

@media screen and (min-width: 640px) {
  /* Desktop layout for main navigation */
  .mb-6 > .grid.grid-cols-2.sm\\:flex,
  .mb-8 > .grid.grid-cols-2.sm\\:flex,
  .mb-6.sm\\:mb-8 > .grid.grid-cols-2.sm\\:flex {
    display: flex !important;
    grid-template-columns: none !important;
    gap: 1.5rem !important;
  }
}

/* Enhanced Navigation Icon Animations */
@keyframes nav-dashboard-pulse {
  0%, 100% { 
    transform: scale(1) rotate(0deg); 
    filter: drop-shadow(0 0 2px rgba(59, 130, 246, 0.5));
  }
  50% { 
    transform: scale(1.1) rotate(2deg); 
    filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.8));
  }
}

@keyframes nav-create-bounce {
  0%, 100% { 
    transform: translateY(0) scale(1); 
    filter: drop-shadow(0 0 2px rgba(34, 197, 94, 0.5));
  }
  25% { 
    transform: translateY(-3px) scale(1.05); 
    filter: drop-shadow(0 0 6px rgba(34, 197, 94, 0.7));
  }
  50% { 
    transform: translateY(-5px) scale(1.1); 
    filter: drop-shadow(0 0 10px rgba(34, 197, 94, 0.9));
  }
  75% { 
    transform: translateY(-3px) scale(1.05); 
    filter: drop-shadow(0 0 6px rgba(34, 197, 94, 0.7));
  }
}

@keyframes nav-editor-magic {
  0%, 100% { 
    transform: rotate(0deg) scale(1); 
    filter: drop-shadow(0 0 2px rgba(168, 85, 247, 0.5)) hue-rotate(0deg);
  }
  25% { 
    transform: rotate(-5deg) scale(1.05); 
    filter: drop-shadow(0 0 6px rgba(168, 85, 247, 0.7)) hue-rotate(45deg);
  }
  50% { 
    transform: rotate(5deg) scale(1.1); 
    filter: drop-shadow(0 0 10px rgba(168, 85, 247, 0.9)) hue-rotate(90deg);
  }
  75% { 
    transform: rotate(-2deg) scale(1.05); 
    filter: drop-shadow(0 0 6px rgba(168, 85, 247, 0.7)) hue-rotate(135deg);
  }
}

@keyframes nav-record-glow {
  0%, 100% { 
    transform: scale(1) rotate(0deg); 
    filter: drop-shadow(0 0 2px rgba(249, 115, 22, 0.5));
  }
  33% { 
    transform: scale(1.08) rotate(-3deg); 
    filter: drop-shadow(0 0 8px rgba(249, 115, 22, 0.8));
  }
  66% { 
    transform: scale(1.12) rotate(3deg); 
    filter: drop-shadow(0 0 12px rgba(249, 115, 22, 0.9));
  }
}

/* Navigation Icon Animation Classes */
.animate-nav-dashboard {
  animation: nav-dashboard-pulse 3s ease-in-out infinite;
}

.animate-nav-create {
  animation: nav-create-bounce 2s ease-in-out infinite;
}

.animate-nav-editor {
  animation: nav-editor-magic 4s ease-in-out infinite;
}

.animate-nav-record {
  animation: nav-record-glow 3.5s ease-in-out infinite;
}

/* Hover intensified animations */
@media (hover: hover) and (pointer: fine) {
  .group:hover .animate-nav-dashboard {
    animation-duration: 1.5s;
  }
  
  .group:hover .animate-nav-create {
    animation-duration: 1s;
  }
  
  .group:hover .animate-nav-editor {
    animation-duration: 2s;
  }
  
  .group:hover .animate-nav-record {
    animation-duration: 1.75s;
  }
}

/* Active state - disable animation for selected tab */
.group[data-state="active"] .animate-nav-dashboard,
.group[data-state="active"] .animate-nav-create,
.group[data-state="active"] .animate-nav-editor {
  animation: none;
  transform: none;
  filter: none;
}

/* Ensure Calendar is always visible and properly styled */
.rdp {
  background: var(--popover);
  color: var(--popover-foreground);
}

.rdp-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

.rdp-head_row,
.rdp-row {
  display: flex;
  width: 100%;
  justify-content: space-between;
}

.rdp-head_cell,
.rdp-cell {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 0;
  width: calc(100% / 7);
  aspect-ratio: 1;
}

/* Fix calendar button styles */
.rdp-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  min-width: 32px;
  min-height: 32px;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.2s ease;
  font-size: 14px;
  line-height: 1;
}

.rdp-button:hover {
  background: var(--accent);
  color: var(--accent-foreground);
}

.rdp-button[aria-selected="true"] {
  background: var(--primary);
  color: var(--primary-foreground);
}

.rdp-button[aria-selected="true"]:hover {
  background: var(--primary);
  color: var(--primary-foreground);
}

.rdp-day_today .rdp-button {
  background: var(--accent);
  color: var(--accent-foreground);
  font-weight: 500;
}

.rdp-day_disabled .rdp-button {
  opacity: 0.5;
  cursor: not-allowed;
}

.rdp-day_disabled .rdp-button:hover {
  background: transparent;
}

/* Calendar navigation */
.rdp-nav {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.rdp-nav_button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border: 1px solid var(--border);
  background: transparent;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.rdp-nav_button:hover {
  background: var(--accent);
  color: var(--accent-foreground);
}

.rdp-caption_label {
  font-weight: 500;
  font-size: 0.875rem;
}

/* Additional calendar fixes for perfect alignment */
.rdp-table {
  border-spacing: 0;
}

.rdp-tbody {
  width: 100%;
}

.rdp-weekday {
  font-size: 0.75rem;
  font-weight: 500;
  text-align: center;
  width: calc(100% / 7);
  padding: 8px 0;
}

/* Ensure consistent column widths */
.rdp-head_cell,
.rdp-cell,
.rdp-day {
  box-sizing: border-box;
}

/* Fix for calendar grid alignment */
[data-slot="calendar"] .rdp-table,
[data-slot="calendar"] .rdp-head_row,
[data-slot="calendar"] .rdp-row {
  width: 100%;
  display: flex;
}

[data-slot="calendar"] .rdp-head_cell,
[data-slot="calendar"] .rdp-cell {
  flex: 1 1 calc(100% / 7);
  min-width: calc(100% / 7);
  max-width: calc(100% / 7);
}

/* Mobile Recording Studio Enhancements */
@keyframes recording-pulse {
  0%, 100% { 
    opacity: 1; 
    transform: scale(1); 
  }
  50% { 
    opacity: 0.8; 
    transform: scale(1.05); 
  }
}

@keyframes waveform-pulse {
  0%, 100% { 
    transform: scaleY(1); 
    opacity: 0.8; 
  }
  50% { 
    transform: scaleY(1.5); 
    opacity: 1; 
  }
}

@keyframes camera-focus {
  0%, 100% { 
    box-shadow: 0 0 0 0 rgba(147, 51, 234, 0.4); 
  }
  50% { 
    box-shadow: 0 0 0 10px rgba(147, 51, 234, 0); 
  }
}

@keyframes audio-wave {
  0%, 100% { 
    height: 20%; 
  }
  25% { 
    height: 60%; 
  }
  50% { 
    height: 100%; 
  }
  75% { 
    height: 40%; 
  }
}

/* Shimmer animation for loading states */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-shimmer {
  animation: shimmer 2s ease-in-out infinite;
}

.animate-recording-pulse {
  animation: recording-pulse 2s ease-in-out infinite;
}

.animate-waveform-pulse {
  animation: waveform-pulse 1.5s ease-in-out infinite;
}

.animate-camera-focus {
  animation: camera-focus 2s ease-in-out infinite;
}

.animate-audio-wave {
  animation: audio-wave 1s ease-in-out infinite;
}

/* Mobile Recording Optimizations */
@media (hover: none) and (pointer: coarse) {
  /* Larger touch targets for recording controls */
  .recording-control-button {
    min-height: 56px;
    min-width: 56px;
    padding: 12px;
  }
  
  /* Better video preview sizing on mobile */
  .mobile-video-preview {
    width: 100%;
    height: auto;
    min-height: 200px;
    max-height: 60vh;
    object-fit: cover;
  }
  
  /* Audio waveform optimizations */
  .audio-waveform {
    height: 120px;
    width: 100%;
  }
  
  /* Touch-friendly sliders */
  .mobile-slider-thumb {
    width: 24px;
    height: 24px;
  }
  
  /* Prevent zoom on form inputs in recording interface */
  .recording-input {
    font-size: 16px !important;
    transform: scale(1) !important;
  }
}

/* Fullscreen recording interface */
.recording-fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  background: black;
  display: flex;
  flex-direction: column;
}

.recording-fullscreen video,
.recording-fullscreen canvas {
  flex: 1;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Recording UI overlays */
.recording-overlay {
  position: absolute;
  bottom: 20px;
  left: 20px;
  right: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
  z-index: 10;
}

.recording-overlay button {
  background: rgba(0, 0, 0, 0.7);
  border: 2px solid rgba(255, 255, 255, 0.3);
  color: white;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.recording-overlay button:hover {
  background: rgba(0, 0, 0, 0.8);
  border-color: rgba(255, 255, 255, 0.5);
}

/* Recording status indicators */
.recording-indicator {
  position: absolute;
  top: 20px;
  left: 20px;
  background: rgba(220, 38, 38, 0.9);
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.recording-indicator::before {
  content: '';
  width: 8px;
  height: 8px;
  background: white;
  border-radius: 50%;
  animation: recording-pulse 1s ease-in-out infinite;
}

/* Audio level visualization */
.audio-level-bar {
  width: 4px;
  background: linear-gradient(to top, #ef4444, #f59e0b, #10b981);
  border-radius: 2px;
  transition: height 0.1s ease;
}

.audio-level-container {
  display: flex;
  align-items: end;
  justify-content: center;
  gap: 2px;
  height: 60px;
  margin: 20px 0;
}

/* Enhanced mobile video controls */
@media screen and (max-width: 768px) {
  .mobile-video-controls {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
    padding: 40px 20px 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
  }
  
  .mobile-record-button {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: #ef4444;
    border: 4px solid white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    transition: all 0.2s ease;
  }
  
  .mobile-record-button:active {
    transform: scale(0.95);
  }
  
  .mobile-record-button.recording {
    background: #dc2626;
    animation: recording-pulse 1s ease-in-out infinite;
  }
  
  .mobile-secondary-button {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }
}

/* Camera preview enhancements */
.camera-preview-container {
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  background: black;
}

.camera-preview-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg, transparent 49%, rgba(255, 255, 255, 0.1) 50%, transparent 51%);
  pointer-events: none;
  z-index: 1;
}

/* Filter preview effects */
.filter-warm { filter: sepia(20%) hue-rotate(15deg) brightness(110%); }
.filter-cool { filter: hue-rotate(-15deg) brightness(110%) contrast(110%); }
.filter-vintage { filter: sepia(50%) contrast(120%) brightness(90%) saturate(80%); }
.filter-dramatic { filter: contrast(150%) brightness(90%) saturate(130%); }
.filter-soft { filter: brightness(110%) contrast(90%) blur(0.5px) saturate(110%); }

/* Recording timer styles */
.recording-timer {
  font-family: 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace;
  font-size: 18px;
  font-weight: 600;
  color: white;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  letter-spacing: 0.5px;
}

/* Progress indicators */
.upload-progress {
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.1);
}

.upload-progress::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

/* Title Display Animations */
@keyframes title-float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-2px); }
}

@keyframes title-shine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(200%); }
}

@keyframes title-bounce-slow {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

.animate-title-shine {
  animation: title-shine 3s ease-in-out infinite;
}

.animate-title-bounce-slow {
  animation: title-bounce-slow 2s ease-in-out infinite;
}

/* Prestige Bar Radial Gradient Utility */
.bg-gradient-radial {
  background: radial-gradient(circle, var(--tw-gradient-stops));
}

/* Workflow Integration Enhancements */
@keyframes workflow-step-glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(147, 51, 234, 0.5);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.8), 0 0 30px rgba(147, 51, 234, 0.6);
    transform: scale(1.02);
  }
}

@keyframes data-flow {
  0% {
    opacity: 0.5;
    transform: translateX(-10px);
  }
  50% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0.5;
    transform: translateX(10px);
  }
}

@keyframes integration-pulse {
  0%, 100% {
    background: rgba(34, 197, 94, 0.1);
    border-color: rgba(34, 197, 94, 0.3);
  }
  50% {
    background: rgba(34, 197, 94, 0.2);
    border-color: rgba(34, 197, 94, 0.6);
  }
}

.animate-workflow-step-glow {
  animation: workflow-step-glow 3s ease-in-out infinite;
}

.animate-data-flow {
  animation: data-flow 2s ease-in-out infinite;
}

.animate-integration-pulse {
  animation: integration-pulse 2s ease-in-out infinite;
}

/* Enhanced Workflow State Indicators */
.workflow-indicator {
  position: relative;
  overflow: hidden;
}

.workflow-indicator::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );
  animation: shimmer 2s infinite;
}

.workflow-step-active {
  background: linear-gradient(45deg, #22c55e, #16a34a);
  color: white;
  animation: integration-pulse 2s ease-in-out infinite;
}

.workflow-step-pending {
  background: linear-gradient(45deg, #f3f4f6, #e5e7eb);
  color: #6b7280;
}

.workflow-step-complete {
  background: linear-gradient(45deg, #10b981, #059669);
  color: white;
}

/* Enhanced Media Preview States */
.media-enhanced {
  border: 2px solid #a855f7;
  box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
  animation: workflow-step-glow 3s ease-in-out infinite;
}

.media-workflow {
  position: relative;
}

.media-workflow::after {
  content: 'Enhanced';
  position: absolute;
  top: 8px;
  right: 8px;
  background: rgba(168, 85, 247, 0.9);
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 10px;
  font-weight: 600;
  backdrop-filter: blur(4px);
}

/* Seamless Transition Effects */
.page-transition-enter {
  opacity: 0;
  transform: translateY(20px) scale(0.95);
}

.page-transition-enter-active {
  opacity: 1;
  transform: translateY(0) scale(1);
  transition: all 300ms ease-out;
}

.page-transition-exit {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.page-transition-exit-active {
  opacity: 0;
  transform: translateY(-20px) scale(0.95);
  transition: all 200ms ease-in;
}

/* iPhone Mobile Text Centering - Simplified and Effective */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  /* Universal iPhone button centering */
  button,
  .btn,
  .button,
  [role="button"],
  [data-radix-dialog-content] button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    vertical-align: middle !important;
    
    /* iPhone font rendering */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    line-height: 1.2 !important;
    
    /* Prevent text shifting */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
    
    /* Touch targets */
    min-height: 44px !important;
    min-width: 44px !important;
  }
  
  /* All button content gets centered */
  button *:not(svg),
  .btn *:not(svg),
  .button *:not(svg),
  [role="button"] *:not(svg) {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    vertical-align: middle !important;
    line-height: 1.2 !important;
    
    /* Perfect positioning */
    position: relative !important;
    top: 0 !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    
    /* Consistent rendering */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
  }
  
  /* Icons in buttons */
  button svg,
  .btn svg,
  .button svg {
    display: block !important;
    -webkit-flex-shrink: 0 !important;
    flex-shrink: 0 !important;
    vertical-align: middle !important;
    -webkit-align-self: center !important;
    align-self: center !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
  
  /* Navigation buttons - column layout */
  .group[data-state] button,
  button[class*="rounded-xl"] {
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    gap: 0.5rem !important;
    min-height: 80px !important;
    padding: 1rem 0.5rem !important;
  }
  
  /* Multi-line button content */
  button .space-y-1,
  button .text-content {
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    gap: 0.25rem !important;
    text-align: center !important;
  }
  
  /* Input fields */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  textarea {
    font-size: 16px !important; /* Prevent iOS zoom */
    text-align: center !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    line-height: 1.2 !important;
  }
  
  /* Labels stay left-aligned */
  label {
    text-align: left !important;
    -webkit-font-smoothing: antialiased !important;
    line-height: 1.2 !important;
  }
}

/* CRITICAL: Main App Navigation Button Text Display Fix */
@media screen and (max-width: 768px) {
  /* Target the exact navigation structure from App.tsx - HIGHEST SPECIFICITY */
  .mb-6 > .grid.grid-cols-4.sm\:flex button span,
  .mb-8 > .grid.grid-cols-4.sm\:flex button span,
  .mb-6.sm\:mb-8 > .grid.grid-cols-4.sm\:flex button span,
  .mb-6 > .grid.grid-cols-4 button span,
  .mb-8 > .grid.grid-cols-4 button span,
  div[class*="mb-"] > .grid.grid-cols-4 button span,
  button[data-state] > span.text-xs,
  button[data-state] > span.sm\:text-sm,
  button.group.relative > span.text-xs.sm\:text-sm,
  button.group.relative > span.leading-none {
    /* ABSOLUTELY force text to wrap and display fully */
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    word-break: normal !important;
    hyphens: auto !important;
    -webkit-hyphens: auto !important;
    line-height: 1.3 !important;
    font-size: 0.7rem !important;
    text-align: center !important;
    padding: 0 0.25rem !important;
    margin: 0 !important;
  }
  
  /* Make buttons taller to accommodate wrapped text */
  .mb-6 > .grid.grid-cols-4.sm\:flex button,
  .mb-8 > .grid.grid-cols-4.sm\:flex button,
  .mb-6.sm\:mb-8 > .grid.grid-cols-4.sm\:flex button,
  .mb-6 > .grid.grid-cols-4 button,
  .mb-8 > .grid.grid-cols-4 button,
  div[class*="mb-"] > .grid.grid-cols-4 button,
  button[data-state],
  button.group.relative.flex.flex-col {
    min-height: 100px !important;
    max-height: none !important;
    height: auto !important;
    padding: 0.875rem 0.375rem !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.375rem !important;
    overflow: visible !important;
  }
  
  /* Compact icons for more text space */
  .mb-6 > .grid.grid-cols-4 button svg,
  .mb-8 > .grid.grid-cols-4 button svg,
  div[class*="mb-"] > .grid.grid-cols-4 button svg,
  button[data-state] svg,
  button.group.relative svg {
    width: 1.125rem !important;
    height: 1.125rem !important;
    flex-shrink: 0 !important;
    margin-bottom: 0.25rem !important;
  }
  
  /* Ensure the grid container allows proper spacing */
  .mb-6 > .grid.grid-cols-4,
  .mb-8 > .grid.grid-cols-4,
  .grid.grid-cols-4.sm\:flex {
    gap: 0.5rem !important;
  }
}

/* Mobile-specific enhancements */
@media screen and (max-width: 640px) {
  /* Extra small breakpoint for mobile customization */
  .xs\:hidden {
    display: none !important;
  }
  
  .xs\:inline {
    display: inline !important;
  }
  
  .xs\:block {
    display: block !important;
  }
  
  .xs\:flex {
    display: flex !important;
  }
  
  /* Mobile navigation grid optimizations */
  .mobile-nav-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
  }
  
  /* Mobile dialog optimizations */
  [data-radix-dialog-content] {
    margin: 1rem !important;
    max-width: calc(100vw - 2rem) !important;
    width: calc(100vw - 2rem) !important;
  }
  
  /* Mobile button sizing */
  .mobile-touch-target {
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Mobile text sizing for better readability */
  .mobile-text-adjust {
    font-size: 16px; /* Prevent zoom on iOS */
    line-height: 1.2;
    text-align: center;
    vertical-align: middle;
  }
}

/* Extra small mobile devices */
@media screen and (max-width: 374px) {
  .xs\:text-xs {
    font-size: 0.65rem;
    line-height: 1rem;
  }
  
  .xs\:p-2 {
    padding: 0.5rem;
  }
  
  .xs\:gap-1 {
    gap: 0.25rem;
  }
}

/* Larger mobile devices optimization */
@media screen and (min-width: 375px) and (max-width: 640px) {
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  /* Better spacing for larger mobile screens */
  .mobile-lg\:p-4 {
    padding: 1rem;
  }
  
  .mobile-lg\:gap-3 {
    gap: 0.75rem;
  }
}

/* Onboarding Animations */
@keyframes onboarding-fade-in {
  0% {
    opacity: 0;
    transform: scale(0.95) translateY(20px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes onboarding-step-enter {
  0% {
    opacity: 0;
    transform: translateX(30px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes onboarding-demo-float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-5px);
  }
}

@keyframes onboarding-progress-fill {
  0% {
    width: 0%;
  }
  100% {
    width: var(--progress-width);
  }
}

@keyframes onboarding-icon-bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0) scale(1);
  }
  40% {
    transform: translateY(-8px) scale(1.1);
  }
  60% {
    transform: translateY(-4px) scale(1.05);
  }
}

@keyframes onboarding-feature-check {
  0% {
    transform: scale(0) rotate(-45deg);
    opacity: 0;
  }
  50% {
    transform: scale(1.2) rotate(-45deg);
    opacity: 1;
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

@keyframes onboarding-dot-expand {
  0% {
    width: 8px;
    opacity: 0.5;
  }
  100% {
    width: 24px;
    opacity: 1;
  }
}

/* Onboarding Animation Classes */
.animate-onboarding-fade-in {
  animation: onboarding-fade-in 0.6s ease-out;
}

.animate-onboarding-step-enter {
  animation: onboarding-step-enter 0.5s ease-out;
}

.animate-onboarding-demo-float {
  animation: onboarding-demo-float 3s ease-in-out infinite;
}

.animate-onboarding-progress-fill {
  animation: onboarding-progress-fill 0.8s ease-out;
}

.animate-onboarding-icon-bounce {
  animation: onboarding-icon-bounce 2s ease-in-out infinite;
}

.animate-onboarding-feature-check {
  animation: onboarding-feature-check 0.5s ease-out;
}

.animate-onboarding-dot-expand {
  animation: onboarding-dot-expand 0.3s ease-out;
}

/* Onboarding Mobile Optimizations */
@media screen and (max-width: 640px) {
  .onboarding-mobile-stack {
    flex-direction: column;
  }
  
  .onboarding-mobile-text {
    font-size: 14px;
    line-height: 1.4;
  }
  
  .onboarding-mobile-icon {
    width: 48px;
    height: 48px;
  }
  
  .onboarding-mobile-demo {
    min-height: 200px;
    padding: 1rem;
  }
  
  .onboarding-mobile-button {
    min-height: 48px;
    font-size: 16px;
  }
}

/* Onboarding Text Alignment Enhancements */
.onboarding-text-center {
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.onboarding-button-content {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  height: 100%;
  line-height: 1;
}

.onboarding-feature-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  min-height: 44px;
  border-radius: 0.5rem;
  background: rgba(255, 255, 255, 0.5);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.onboarding-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  line-height: 1;
  white-space: nowrap;
}

.onboarding-stat-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 0.5rem;
  gap: 0.25rem;
}

.onboarding-demo-label {
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 0.25rem 0;
  font-size: 0.75rem;
  font-weight: 500;
  line-height: 1;
}

/* Ensure all onboarding interactive elements have proper touch targets */
@media (hover: none) and (pointer: coarse) {
  .onboarding-touch-target {
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .onboarding-button {
    min-height: 48px;
    padding: 0.75rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 16px; /* Prevent iOS zoom */
    line-height: 1;
  }
  
  .onboarding-nav-dot {
    min-height: 32px;
    min-width: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
  }
}

/* UserOnboarding Feature Button Text Containment */
.onboarding-feature-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem;
  min-height: 56px;
  width: 100%;
  max-width: 100%;
  border-radius: 0.5rem;
  background: rgba(255, 255, 255, 0.5);
  border: 1px solid rgba(0, 0, 0, 0.1);
  overflow: hidden;
  box-sizing: border-box;
}

.onboarding-feature-item span {
  flex: 1;
  min-width: 0;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.4;
  font-size: 0.875rem;
  box-sizing: border-box;
}

.onboarding-feature-item svg {
  flex-shrink: 0;
  width: 1rem;
  height: 1rem;
}

/* Force onboarding containers to never overflow */
.onboarding-container {
  max-width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.onboarding-container * {
  max-width: 100%;
  box-sizing: border-box;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Onboarding dialog specific containment */
[data-radix-dialog-content].onboarding-container {
  overflow: auto;
  scroll-behavior: smooth;
}

[data-radix-dialog-content].onboarding-container > * {
  max-width: 100%;
  overflow: visible;
  box-sizing: border-box;
}

/* Ensure onboarding dialog scrolls properly */
.onboarding-container {
  overflow-y: auto;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch; /* Enable momentum scrolling on iOS */
}

.onboarding-container .onboarding-container {
  overflow: visible;
}

/* Onboarding dialog specific styling */
[data-radix-dialog-content].onboarding-container {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 90vh;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Mobile-specific onboarding scrolling fixes */
@media screen and (max-width: 1023px) {
  [data-radix-dialog-content].onboarding-container {
    height: 95vh !important;
    max-height: 95vh !important;
    width: calc(100vw - 1rem) !important;
    margin: 0.5rem;
    overflow: hidden !important;
    display: flex !important;
    flex-direction: column !important;
  }
  
  /* Ensure proper touch scrolling on mobile */
  .onboarding-container {
    touch-action: pan-y !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: contain !important;
  }
  
  /* Force scrollable content area to be scrollable */
  .onboarding-container > div.flex-1.overflow-y-auto {
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
    overscroll-behavior: contain !important;
    height: 100% !important;
    max-height: 100% !important;
  }
  
  /* Ensure nested containers allow scrolling */
  .onboarding-container .overflow-y-auto.overscroll-contain {
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
    overscroll-behavior: contain !important;
  }
  
  /* iPhone-specific onboarding scroll fixes */
  @supports (-webkit-touch-callout: none) {
    /* iOS Safari only */
    [data-radix-dialog-content].onboarding-container {
      height: 95dvh !important; /* Use dynamic viewport height */
      max-height: 95dvh !important;
    }
    
    /* Force enable scrolling on iOS */
    .onboarding-container > div.flex-1 {
      overflow: scroll !important;
      -webkit-overflow-scrolling: touch !important;
      position: relative !important;
      z-index: 1 !important;
    }
    
    /* Prevent iOS Safari from blocking scroll */
    .onboarding-container * {
      -webkit-transform: translateZ(0) !important;
      transform: translateZ(0) !important;
    }
  }
  
  /* Additional mobile scroll enforcement */
  .overflow-y-auto.overscroll-contain {
    min-height: 0 !important;
    flex-shrink: 1 !important;
  }
}

/* Force all text in onboarding to be contained */
.onboarding-container h1,
.onboarding-container h2,
.onboarding-container h3,
.onboarding-container h4,
.onboarding-container h5,
.onboarding-container h6,
.onboarding-container p,
.onboarding-container span,
.onboarding-container div {
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  word-wrap: break-word;
  overflow-wrap: break-word;
  box-sizing: border-box;
}

/* Special handling for multi-line text in onboarding */
.onboarding-container p {
  white-space: normal;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
}

/* Ensure grid items in onboarding never overflow */
.onboarding-container [class*="grid"] > * {
  max-width: 100%;
  min-width: 0;
  overflow: hidden;
  box-sizing: border-box;
}

/* Flex items in onboarding */
.onboarding-container .flex > * {
  max-width: 100%;
  min-width: 0;
  box-sizing: border-box;
}

.onboarding-container .flex-1 {
  min-width: 0;
  max-width: 100%;
  overflow: hidden;
}

.onboarding-text-safe {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
  min-width: 0;
  box-sizing: border-box;
}

/* Component Integration Highlights */
.integration-highlight {
  background: linear-gradient(
    45deg,
    rgba(34, 197, 94, 0.1),
    rgba(16, 185, 129, 0.1)
  );
  border: 2px solid rgba(34, 197, 94, 0.3);
  border-radius: 12px;
  padding: 16px;
  animation: integration-pulse 3s ease-in-out infinite;
}

.data-connection {
  position: relative;
}

.data-connection::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent,
    #22c55e,
    transparent
  );
  animation: data-flow 2s ease-in-out infinite;
}

/* Universal Button Text Alignment - iPhone Optimized */
button {
  /* Core layout */
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-box-align: center;
  -webkit-align-items: center;
  align-items: center;
  -webkit-box-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  text-align: center;
  vertical-align: middle;
  
  /* Typography */
  line-height: 1.2;
  font-feature-settings: 'kern' 1, 'liga' 1;
  text-rendering: geometricPrecision;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-synthesis: none;
  -webkit-font-variant-ligatures: common-ligatures;
  font-variant-ligatures: common-ligatures;
  
  /* Layout constraints */
  box-sizing: border-box;
  overflow: hidden;
  position: relative;
  
  /* iPhone-specific fixes */
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

button > * {
  line-height: inherit;
  box-sizing: border-box;
  max-width: 100%;
  overflow: hidden;
}

/* Smart button text handling - prioritize readability */
button span:not(.truncate),
button div:not(.truncate) {
  max-width: 100%;
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Multi-line text containers in buttons */
button .text-content,
button .space-y-1 {
  white-space: normal;
  max-width: 100%;
}

button .text-content > *,
button .space-y-1 > * {
  max-width: 100%;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Perfect button content alignment */
.button-content-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  height: 100%;
  min-height: inherit;
}

.button-content-wrapper > span,
.button-content-wrapper > div {
  line-height: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Multi-line button content */
.button-multiline-content {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  width: 100%;
  height: 100%;
  padding: 0.5rem 0;
}

.button-multiline-content .text-content {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;
  flex: 1;
  min-width: 0;
  gap: 0.25rem;
}

.button-multiline-content .text-content > * {
  line-height: 1.2;
  margin: 0;
  padding: 0;
}

/* Icon + text button alignment */
.button-icon-text {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  height: 100%;
}

.button-icon-text svg {
  flex-shrink: 0;
}

.button-icon-text span {
  line-height: 1;
  font-weight: inherit;
}

/* Navigation button enhancements */
.nav-button-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  height: 100%;
  padding: 0.5rem;
}

.nav-button-content svg {
  flex-shrink: 0;
}

.nav-button-content span {
  line-height: 1;
  text-align: center;
  font-weight: 500;
}

/* Ensure consistent button heights and alignment */
@media (hover: none) and (pointer: coarse) {
  button {
    min-height: 44px;
    padding: 0.75rem 1rem;
    font-size: 16px; /* Prevent iOS zoom */
  }
  
  .button-content-wrapper {
    min-height: 44px;
  }
  
  .nav-button-content {
    min-height: 60px;
    padding: 0.75rem 0.5rem;
  }
}

/* Fix for ShadCN button component text alignment */
[data-slot="button"] {
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

[data-slot="button"] > span {
  line-height: 1;
}

/* Enhanced dropdown menu item alignment */
[data-slot="dropdown-menu-item"] {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  line-height: 1;
}

[data-slot="dropdown-menu-item"] svg {
  flex-shrink: 0;
}

[data-slot="dropdown-menu-item"] span {
  line-height: 1;
}

/* Dialog button alignment */
[data-slot="dialog-content"] button {
  text-align: center;
  justify-content: center;
}

/* Form button improvements */
form button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  line-height: 1;
}

/* Loading state button improvements */
button[disabled] {
  pointer-events: none;
  opacity: 0.6;
}

button[disabled] * {
  animation: none;
}

/* Button text utility classes with overflow protection */
.btn-text-center {
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 1;
  width: 100%;
  height: 100%;
  max-width: 100%;
  overflow: hidden;
}

.btn-text-left {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  text-align: left;
  line-height: 1;
  width: 100%;
  height: 100%;
  max-width: 100%;
  overflow: hidden;
}

.btn-icon-center {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  height: 100%;
  max-width: 100%;
  min-width: 0;
  overflow: hidden;
}

.btn-icon-left {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 0.5rem;
  width: 100%;
  height: 100%;
  max-width: 100%;
  min-width: 0;
  overflow: hidden;
}

/* Perfect vertical centering for any button content */
.btn-v-center {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  min-height: inherit;
}

.btn-h-center {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  min-height: inherit;
}

/* Smart text handling in buttons */
.btn-text-safe {
  max-width: 100%;
  line-height: 1.2;
  min-width: 0;
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

.btn-text-wrap {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  line-height: 1.3;
  text-align: center;
  max-width: 100%;
}

/* Only truncate when space is critically limited */
.btn-text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
  line-height: 1;
  min-width: 0;
}

/* Specific button content containers */
.btn-content-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  height: 100%;
  max-width: 100%;
  min-width: 0;
  overflow: hidden;
  box-sizing: border-box;
}

.btn-text-container {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;
  flex: 1;
  min-width: 0;
  max-width: 100%;
  overflow: hidden;
  gap: 0.25rem;
}

.btn-text-primary {
  font-weight: 500;
  line-height: 1.2;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
  width: 100%;
}

.btn-text-secondary {
  font-size: 0.75rem;
  opacity: 0.8;
  line-height: 1.2;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  max-width: 100%;
  width: 100%;
}

/* Responsive button text sizing */
@media screen and (max-width: 640px) {
  .btn-text-responsive {
    font-size: 14px;
    line-height: 1;
  }
  
  .btn-icon-responsive svg {
    width: 16px;
    height: 16px;
  }
}

@media screen and (min-width: 641px) {
  .btn-text-responsive {
    font-size: 16px;
    line-height: 1;
  }
  
  .btn-icon-responsive svg {
    width: 18px;
    height: 18px;
  }
}

/* Button focus enhancements */
button:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
}

button:focus-visible * {
  outline: none;
}

/* iPhone Safari Universal Text Centering */
@supports (-webkit-touch-callout: none) {
  /* Base font rendering for all elements */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-synthesis: none;
    text-rendering: geometricPrecision;
  }
  
  /* All interactive elements get perfect centering */
  button,
  [role="button"],
  .btn,
  .button,
  input[type="button"],
  input[type="submit"] {
    display: -webkit-box;
    display: -webkit-flex;
    display: flex;
    -webkit-box-align: center;
    -webkit-align-items: center;
    align-items: center;
    -webkit-box-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
    text-align: center;
    vertical-align: middle;
    line-height: 1.2;
    
    /* Hardware acceleration */
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    
    /* Font optimization */
    font-variant-numeric: tabular-nums;
    -webkit-font-variant-numeric: tabular-nums;
    font-feature-settings: 'kern' 1, 'liga' 1;
  }
  
  /* Button content alignment */
  button span,
  button div:not([class*="w-"]):not([class*="h-"]),
  .btn span,
  .btn div:not([class*="w-"]):not([class*="h-"]) {
    display: -webkit-box;
    display: -webkit-flex;
    display: flex;
    -webkit-box-align: center;
    -webkit-align-items: center;
    align-items: center;
    -webkit-box-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
    text-align: center;
    line-height: 1.2;
    
    /* Prevent text shift */
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
  
  /* Perfect icon alignment */
  svg {
    display: block;
    vertical-align: middle;
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
  
  /* Form inputs */
  input,
  textarea,
  select {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    vertical-align: middle;
    line-height: 1.2;
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
  
  /* Navigation buttons */
  [class*="nav"] button {
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -webkit-flex-direction: column;
    flex-direction: column;
    gap: 0.5rem;
    min-height: 80px;
  }
  
  /* Menu items */
  [data-slot="dropdown-menu-item"],
  [role="menuitem"] {
    display: -webkit-box;
    display: -webkit-flex;
    display: flex;
    -webkit-box-align: center;
    -webkit-align-items: center;
    align-items: center;
    text-align: left;
  }
}

/* iPhone Layout Container Fixes */
@media screen and (max-device-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  /* Tab buttons */
  [role="tab"],
  [data-slot="tab"] {
    display: -webkit-box;
    display: -webkit-flex;
    display: flex;
    -webkit-box-align: center;
    -webkit-align-items: center;
    align-items: center;
    -webkit-box-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
    text-align: center;
  }
  
  /* Tooltip content */
  [data-slot="tooltip-content"] {
    text-align: center;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* iPhone Studio & Mobile Text Centering - Final Fixes */
@media screen and (max-width: 768px) {
  /* Ensure all text containers in the app are properly centered */
  
  /* Navigation button content - specific to app structure */
  .group[data-state] button,
  button[class*="rounded-xl"] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
    min-height: 80px !important;
    padding: 1rem 0.5rem !important;
  }
  
  /* Header action buttons */
  .flex.gap-2 button,
  .flex.gap-4 button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    min-height: 44px !important;
  }
  
  /* Dialog and modal buttons */
  [data-radix-dialog-content] button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    min-height: 48px !important;
  }
  
  /* Dropdown trigger buttons */
  [data-radix-dropdown-menu-trigger] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    min-height: 44px !important;
    min-width: 44px !important;
  }
  
  /* Workflow choice buttons */
  .w-full.bg-gradient-to-r button,
  .w-full[class*="bg-gradient"] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: flex-start !important;
    -webkit-justify-content: flex-start !important;
    justify-content: flex-start !important;
    text-align: left !important;
    min-height: 72px !important;
    padding: 1rem !important;
  }
  
  /* Button with icons and multi-line text */
  .flex.items-center.justify-start.gap-4 {
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    gap: 1rem !important;
    width: 100% !important;
  }
  
  /* Text content in multi-line buttons */
  .text-left.flex-1.space-y-1 {
    text-align: left !important;
    -webkit-box-orient: vertical !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    gap: 0.25rem !important;
  }
  
  /* Button text - primary and secondary */
  .font-medium.text-sm,
  .font-medium.text-base {
    line-height: 1.2 !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  .text-xs.opacity-80 {
    line-height: 1.3 !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Badge and status indicators */
  .flex.items-center.gap-2.px-3.py-1 {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }
  
  /* Quick record button */
  .bg-gradient-to-r.from-purple-50 button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
  }
  
  /* Hidden/responsive text */
  .hidden.xs\\:inline,
  .xs\\:hidden {
    display: inline !important;
  }
  
  /* Ensure all span elements in buttons are properly centered */
  button span {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    line-height: 1.2 !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* AI Editor Filter Buttons - iPhone Specific Fixes */
  .grid.sm\\:grid-cols-2.lg\\:grid-cols-3.gap-3 button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
    min-height: 120px !important;
    padding: 1rem !important;
  }
  
  /* Filter button text containers */
  .grid.sm\\:grid-cols-2.lg\\:grid-cols-3.gap-3 button .text-center {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    text-align: center !important;
    gap: 0.25rem !important;
    width: 100% !important;
  }
  
  /* Filter button primary text */
  .grid.sm\\:grid-cols-2.lg\\:grid-cols-3.gap-3 button .font-medium {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    line-height: 1.2 !important;
    width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Filter button description text */
  .grid.sm\\:grid-cols-2.lg\\:grid-cols-3.gap-3 button .text-xs.text-muted-foreground {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    line-height: 1.3 !important;
    width: 100% !important;
    max-width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  /* Quick Actions buttons */
  .space-y-2 button.w-full.justify-start {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: flex-start !important;
    -webkit-justify-content: flex-start !important;
    justify-content: flex-start !important;
    text-align: left !important;
    gap: 0.5rem !important;
    min-height: 48px !important;
    padding: 0.75rem !important;
  }
  
  /* Quick Actions button text */
  .space-y-2 button.w-full.justify-start span:not(.w-4):not(.h-4) {
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    line-height: 1.2 !important;
    text-align: left !important;
  }
}

/* Ensure buttons never have text overlap - Enhanced */
button {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

button * {
  box-sizing: border-box;
  position: relative;
  z-index: 1;
  max-width: 100%;
}

/* Force all button children to respect container bounds */
button > div,
button > span,
button > p {
  max-width: 100%;
  min-width: 0;
  overflow: hidden;
}

/* ShadCN Button component specific fixes */
[class*="button"] {
  overflow: hidden;
}

[class*="button"] span {
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}

[class*="button"] div {
  max-width: 100%;
  min-width: 0;
  overflow: hidden;
}

/* Tailwind Button classes */
.btn,
.button,
[role="button"] {
  overflow: hidden;
  box-sizing: border-box;
}

.btn *,
.button *,
[role="button"] * {
  max-width: 100%;
  min-width: 0;
  box-sizing: border-box;
}

/* Smart text handling in buttons - allow wrapping unless explicitly truncated */
button span:not(.space-y-1 span):not(.text-content span):not(.truncate),
.btn span:not(.space-y-1 span):not(.text-content span):not(.truncate),
.button span:not(.space-y-1 span):not(.text-content span):not(.truncate),
[role="button"] span:not(.space-y-1 span):not(.text-content span):not(.truncate) {
  max-width: 100%;
  display: inline-block;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Only truncate when explicitly requested */
button span.truncate,
.btn span.truncate,
.button span.truncate,
[role="button"] span.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
  display: inline-block;
}

/* Multi-line text containers inside buttons */
button .space-y-1,
button .text-content,
.btn .space-y-1,
.btn .text-content {
  max-width: 100%;
  min-width: 0;
  overflow: hidden;
}

button .space-y-1 > *,
button .text-content > *,
.btn .space-y-1 > *,
.btn .text-content > * {
  max-width: 100%;
  overflow: hidden;
}

/* Line clamping for multi-line button text */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
  line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  line-clamp: 2;
}

/* Prevent specific problematic overflows */
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.max-w-full {
  max-width: 100% !important;
}

.min-w-0 {
  min-width: 0 !important;
}

/* Button responsiveness enhancements */
@media screen and (max-width: 640px) {
  button {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
  
  button span {
    font-size: 14px;
  }
  
  button .text-sm {
    font-size: 13px;
  }
  
  button .text-xs {
    font-size: 11px;
  }
  
  /* On mobile, allow more aggressive truncation if needed */
  .mobile-truncate-ok span {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}

/* iPhone Ultimate Text Centering - All High-DPI Mobile Devices */
@media screen and (-webkit-min-device-pixel-ratio: 1.5) and (max-width: 1024px) {
  /* Master button centering rule */
  button,
  .btn,
  .button,
  [role="button"],
  input[type="button"],
  input[type="submit"] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    vertical-align: middle !important;
    
    /* Font rendering perfection */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    line-height: 1.2 !important;
    
    /* Hardware acceleration */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
    
    /* Touch optimization */
    min-height: 44px !important;
    min-width: 44px !important;
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
  }
  
  /* CRITICAL: 4-column navigation button text must wrap, NOT truncate */
  .grid.grid-cols-4 button span,
  .grid[class*="grid-cols-4"] button span {
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    display: block !important;
    max-width: 100% !important;
    line-height: 1.2 !important;
    text-align: center !important;
    hyphens: auto !important;
    -webkit-hyphens: auto !important;
  }
  
  /* All button text content gets perfect centering */
  button *:not(svg):not(.animate-pulse):not([class*="w-"]):not([class*="h-"]),
  .btn *:not(svg):not(.animate-pulse):not([class*="w-"]):not([class*="h-"]),
  .button *:not(svg):not(.animate-pulse):not([class*="w-"]):not([class*="h-"]) {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    vertical-align: middle !important;
    line-height: 1.2 !important;
    
    /* Perfect text positioning */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
  }
  
  /* Perfect icon alignment */
  button svg,
  .btn svg,
  .button svg {
    display: block !important;
    -webkit-flex-shrink: 0 !important;
    flex-shrink: 0 !important;
    -webkit-align-self: center !important;
    align-self: center !important;
    vertical-align: middle !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
  
  /* Multi-line content containers */
  button .space-y-1,
  button .text-content,
  .btn .space-y-1,
  .btn .text-content {
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    gap: 0.25rem !important;
    text-align: center !important;
  }
  
  /* Navigation buttons */
  .group[data-state] button,
  button[class*="rounded-xl"] {
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    gap: 0.5rem !important;
    min-height: 80px !important;
    padding: 1rem 0.5rem !important;
  }
  
  /* Form inputs */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  textarea {
    font-size: 16px !important; /* Prevent iOS zoom */
    text-align: center !important;
    -webkit-font-smoothing: antialiased !important;
    line-height: 1.2 !important;
  }
  
  /* Labels remain left-aligned */
  label {
    text-align: left !important;
    -webkit-font-smoothing: antialiased !important;
    line-height: 1.2 !important;
  }
}

/* Mobile Studio (AIEditor) iPhone Text Fixes */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  /* AI Filter Grid Buttons - Perfect iPhone Centering */
  [data-slot="tabs-content"] .grid button,
  .grid.gap-3 button[class*="h-auto"] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
    min-height: 120px !important;
    padding: 1rem 0.5rem !important;
    
    /* iPhone text rendering */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    
    /* Hardware acceleration */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
  }
  
  /* Filter button icons */
  [data-slot="tabs-content"] .grid button svg,
  .grid.gap-3 button[class*="h-auto"] svg {
    display: block !important;
    -webkit-flex-shrink: 0 !important;
    flex-shrink: 0 !important;
    -webkit-align-self: center !important;
    align-self: center !important;
    vertical-align: middle !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
  
  /* Filter button text containers */
  [data-slot="tabs-content"] .grid button .text-center,
  .grid.gap-3 button[class*="h-auto"] .text-center {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    text-align: center !important;
    gap: 0.25rem !important;
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* Filter button primary text */
  [data-slot="tabs-content"] .grid button .font-medium,
  .grid.gap-3 button[class*="h-auto"] .font-medium {
    display: block !important;
    text-align: center !important;
    line-height: 1.2 !important;
    width: 100% !important;
    max-width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  /* Filter button description text */
  [data-slot="tabs-content"] .grid button .text-xs,
  .grid.gap-3 button[class*="h-auto"] .text-xs {
    display: block !important;
    text-align: center !important;
    line-height: 1.3 !important;
    width: 100% !important;
    max-width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    padding: 0 0.25rem !important;
  }
  
  /* Tabs triggers */
  [data-slot="tabs-trigger"] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
    min-height: 44px !important;
    padding: 0.5rem 0.75rem !important;
  }
  
  /* Quick Actions Panel Buttons */
  .space-y-2 button.w-full {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: flex-start !important;
    -webkit-justify-content: flex-start !important;
    justify-content: flex-start !important;
    text-align: left !important;
    gap: 0.5rem !important;
    min-height: 48px !important;
    padding: 0.75rem !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Audio Enhancement Buttons */
  .space-y-3 button,
  .grid.gap-3 button {
    min-height: 44px !important;
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    padding: 0.75rem !important;
  }
  
  /* Export Quality Buttons */
  .space-y-2 button[class*="justify-between"] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: space-between !important;
    -webkit-justify-content: space-between !important;
    justify-content: space-between !important;
    min-height: 56px !important;
    padding: 1rem !important;
  }
  
  /* Tab content containers */
  [data-slot="tabs-content"] {
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* All studio button text gets proper rendering */
  [data-slot="tabs-content"] button *,
  .space-y-2 button *,
  .space-y-3 button *,
  .grid.gap-3 button * {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    line-height: 1.2 !important;
  }
  
  /* Badge elements in mobile studio */
  [data-slot="badge"] {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    min-height: 24px !important;
    padding: 0.25rem 0.5rem !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
}

/* Desktop button enhancements - prioritize full text display */
@media screen and (min-width: 1025px) {
  button {
    padding-left: 1rem;
    padding-right: 1rem;
    min-height: 44px;
  }
  
  /* Feature buttons get extra space on desktop */
  .feature-button {
    min-height: 56px;
    padding: 1rem;
  }
  
  /* Workflow buttons get generous space */
  .workflow-button {
    min-height: 72px;
    padding: 1rem 1.5rem;
  }
  
  /* Ensure text has breathing room */
  button .text-content {
    line-height: 1.4;
  }
  
  /* Desktop Delivery Date Window Enhancements */
  .delivery-date-section {
    min-height: auto;
  }
  
  /* Enhanced Calendar Popover for Desktop */
  [data-radix-popper-content-wrapper] {
    z-index: 10000 !important;
  }
  
  /* Desktop Calendar Sizing */
  .rdp {
    font-size: 16px;
    width: auto;
    min-width: 350px;
  }
  
  .rdp-button {
    width: 44px;
    height: 44px;
    min-width: 44px;
    min-height: 44px;
    font-size: 16px;
    font-weight: 500;
  }
  
  .rdp-head_cell {
    font-size: 14px;
    height: 40px;
    font-weight: 600;
  }
  
  .rdp-nav_button {
    min-height: 40px;
    min-width: 40px;
  }
  
  /* Desktop Select Components in Delivery Schedule */
  [data-slot="select-trigger"] {
    min-height: 48px;
    padding: 0.75rem 1rem;
    font-size: 16px;
  }
  
  /* Desktop Time Selector Enhancements */
  .time-selector [data-slot="select-trigger"] {
    min-height: 56px;
    font-size: 18px;
    font-weight: 600;
  }
  
  /* Desktop Calendar Navigation Selectors */
  .calendar-nav-dropdown [data-radix-select-trigger] {
    min-height: 40px;
    padding: 0.5rem 0.75rem;
    font-size: 14px;
    font-weight: 500;
  }
  
  /* Desktop Quick Preset Buttons */
  .quick-preset-desktop {
    min-height: 60px;
    padding: 1rem;
    font-size: 16px;
    transition: all 0.3s ease;
  }
  
  .quick-preset-desktop:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }
  
  /* Desktop Status Cards */
  .status-card-desktop {
    min-height: 80px;
    padding: 1.5rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
  }
  
  .status-card-desktop:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }
  
  /* Desktop Time Preview Enhancements */
  .time-preview-desktop {
    background: linear-gradient(135deg, rgba(251, 146, 60, 0.1), rgba(245, 158, 11, 0.1));
    border: 2px solid rgba(251, 146, 60, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    transition: all 0.3s ease;
  }
  
  .time-preview-desktop:hover {
    background: linear-gradient(135deg, rgba(251, 146, 60, 0.15), rgba(245, 158, 11, 0.15));
    border-color: rgba(251, 146, 60, 0.5);
    transform: scale(1.02);
  }
  
  /* Desktop Timezone Display */
  .timezone-display-desktop {
    background: linear-gradient(135deg, rgba(251, 146, 60, 0.08), rgba(245, 158, 11, 0.08));
    border: 1px solid rgba(251, 146, 60, 0.2);
    border-radius: 8px;
    padding: 1rem;
    transition: all 0.3s ease;
  }
  
  /* Desktop Success Confirmation */
  .success-confirmation-desktop {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.1));
    border: 2px solid rgba(34, 197, 94, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 4px 20px rgba(34, 197, 94, 0.2);
    transition: all 0.3s ease;
  }
  
  .success-confirmation-desktop:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(34, 197, 94, 0.3);
  }
  
  /* Desktop Error Display */
  .error-display-desktop {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1));
    border: 2px solid rgba(239, 68, 68, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 4px 20px rgba(239, 68, 68, 0.2);
    transition: all 0.3s ease;
  }
  
  /* Desktop Calendar Card Enhancements */
  .calendar-card-desktop {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(99, 102, 241, 0.08));
    border: 2px solid rgba(59, 130, 246, 0.2);
    border-radius: 16px;
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
    transition: all 0.3s ease;
  }
  
  .calendar-card-desktop:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 35px rgba(59, 130, 246, 0.2);
    border-color: rgba(59, 130, 246, 0.3);
  }
  
  /* Desktop Time Card Enhancements */
  .time-card-desktop {
    background: linear-gradient(135deg, rgba(251, 146, 60, 0.08), rgba(245, 158, 11, 0.08));
    border: 2px solid rgba(251, 146, 60, 0.2);
    border-radius: 16px;
    box-shadow: 0 8px 25px rgba(251, 146, 60, 0.15);
    transition: all 0.3s ease;
  }
  
  .time-card-desktop:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 35px rgba(251, 146, 60, 0.2);
    border-color: rgba(251, 146, 60, 0.3);
  }
  
  /* Desktop Delivery Schedule Responsive Enhancements */
  .delivery-schedule-desktop {
    max-width: none;
    width: 100%;
  }
  
  /* Desktop Form Element Spacing */
  .desktop-form-spacing {
    gap: 2rem;
    margin-bottom: 2rem;
  }
  
  /* Desktop Label Enhancements */
  .desktop-label {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }
  
  /* Desktop Button Hover Effects */
  .desktop-button-hover {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .desktop-button-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  }
  
  /* Desktop Select Dropdown Enhancements */
  [data-slot="select-content"] {
    min-width: 320px;
    max-height: 400px;
    border-radius: 12px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  
  /* Desktop Select Items */
  [data-slot="select-item"] {
    padding: 0.75rem 1rem;
    font-size: 16px;
    line-height: 1.4;
    transition: all 0.2s ease;
  }
  
  [data-slot="select-item"]:hover {
    background: rgba(59, 130, 246, 0.1);
    transform: translateX(4px);
  }
}

/* Ensure flex children in buttons don't overflow */
button .flex-1 {
  min-width: 0;
  max-width: 100%;
}

button .flex-shrink-0 {
  flex-shrink: 0;
}

/* Dialog and modal button fixes */
[data-radix-dialog-content] button {
  max-width: 100%;
  overflow: hidden;
}

[data-radix-dialog-content] button span {
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Universal Quick Filter Button Fixes for iPhone */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  /* Target any grid of buttons with multi-line content */
  .grid button[class*="h-auto"],
  .grid button[class*="flex-col"],
  button[class*="flex-col"] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
    min-height: 100px !important;
    padding: 1rem 0.5rem !important;
    
    /* Perfect font rendering */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    line-height: 1.2 !important;
    
    /* Hardware acceleration */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
  }
  
  /* Any button with icon + text in columns */
  button[class*="flex-col"] svg,
  .grid button[class*="h-auto"] svg {
    display: block !important;
    -webkit-flex-shrink: 0 !important;
    flex-shrink: 0 !important;
    vertical-align: middle !important;
    -webkit-align-self: center !important;
    align-self: center !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
  
  /* Multi-line text in column buttons */
  button[class*="flex-col"] .text-center,
  .grid button[class*="h-auto"] .text-center,
  button[class*="flex-col"] div:not([class*="w-"]):not([class*="h-"]) {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    text-align: center !important;
    gap: 0.25rem !important;
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
  }
  
  /* Ensure all text in filter buttons is properly contained */
  button[class*="flex-col"] *,
  .grid button[class*="h-auto"] * {
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Primary text in filter buttons */
  button[class*="flex-col"] .font-medium,
  .grid button[class*="h-auto"] .font-medium {
    display: block !important;
    text-align: center !important;
    line-height: 1.2 !important;
    width: 100% !important;
    font-size: 14px !important;
  }
  
  /* Secondary/description text */
  button[class*="flex-col"] .text-xs,
  .grid button[class*="h-auto"] .text-xs {
    display: block !important;
    text-align: center !important;
    line-height: 1.3 !important;
    width: 100% !important;
    font-size: 12px !important;
    padding: 0 0.25rem !important;
  }
  
  /* Prevent any button content from overflowing */
  button[class*="flex-col"] span,
  .grid button[class*="h-auto"] span,
  button[class*="flex-col"] div,
  .grid button[class*="h-auto"] div {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
    max-height: 2.6em !important; /* Roughly 2 lines */
  }
  
  /* Single line text should not clamp */
  button[class*="flex-col"] .font-medium,
  .grid button[class*="h-auto"] .font-medium {
    -webkit-line-clamp: 1 !important;
    max-height: 1.3em !important;
    white-space: nowrap !important;
  }
}

/* Universal mobile button text safety */
@media screen and (max-width: 768px) {
  /* Ensure no button text ever overflows on mobile */
  button {
    overflow: hidden !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  button * {
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
  }
  
  /* Grid layouts get special handling */
  .grid button {
    min-width: 0 !important;
    max-width: 100% !important;
    overflow: hidden !important;
  }
  
  /* Any multi-column grid of buttons */
  .grid.gap-3 button,
  .grid[class*="grid-cols"] button {
    padding: 0.75rem 0.5rem !important;
    min-height: 80px !important;
  }
  
  /* Refined Delivery Schedule Mobile Improvements */
  .grid.grid-cols-1.lg\\:grid-cols-3.gap-3 {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }
  
  /* Quick date shortcuts mobile layout */
  .flex.flex-wrap.gap-2 {
    justify-content: center !important;
    margin-top: 0.5rem !important;
  }
  
  .flex.flex-wrap.gap-2 button.h-7 {
    min-height: 2rem !important;
    padding: 0.25rem 0.75rem !important;
    font-size: 0.75rem !important;
  }
  
  /* Schedule summary mobile improvements */
  .bg-blue-50.dark\\:bg-blue-950\\/20 .text-sm {
    font-size: 0.8rem !important;
    line-height: 1.3 !important;
  }
  
  /* Compact form elements on mobile */
  .h-11 {
    min-height: 2.75rem !important;
  }
  
  /* Mobile timezone select improvements */
  [data-slot="select-content"] .flex.flex-col.items-start.w-full .text-sm {
    font-size: 0.8rem !important;
  }
  
  [data-slot="select-content"] .flex.flex-col.items-start.w-full .text-xs {
    font-size: 0.7rem !important;
  }
  
  /* Date picker button mobile improvements */
  .flex.items-center.gap-2.flex-1.min-w-0 {
    justify-content: flex-start !important;
    text-align: left !important;
  }
  
  /* Error display mobile improvements */
  .bg-red-50.dark\\:bg-red-950\\/20 .text-sm {
    font-size: 0.8rem !important;
    line-height: 1.3 !important;
  }
  
  /* Delivery schedule labels mobile optimization */
  .text-sm.text-muted-foreground.mb-2.block {
    font-size: 0.8rem !important;
    margin-bottom: 0.375rem !important;
    font-weight: 500 !important;
  }
  
  /* Card header mobile spacing */
  [data-slot="card-header"].pb-3 {
    padding-bottom: 0.75rem !important;
  }
  
  /* Card content mobile spacing */
  [data-slot="card-content"].space-y-4 {
    gap: 1rem !important;
    padding: 1rem !important;
  }
  
  /* Quick select label mobile */
  .text-xs.text-muted-foreground.mr-2.self-center {
    font-size: 0.7rem !important;
    margin-right: 0.5rem !important;
    white-space: nowrap !important;
  }
  
  /* Ultra Condensed Delivery Schedule Mobile */
  .grid.grid-cols-1.sm\\:grid-cols-3.gap-2 {
    grid-template-columns: 1fr !important;
    gap: 0.5rem !important;
  }
  
  /* Condensed form elements */
  .h-9 {
    min-height: 2.25rem !important;
  }
  
  /* Quick presets mobile */
  .flex.flex-wrap.gap-1 button.h-6 {
    min-height: 1.75rem !important;
    padding: 0.125rem 0.5rem !important;
    font-size: 0.625rem !important;
  }
  
  /* Ultra compact text sizing */
  .text-xs {
    font-size: 0.675rem !important;
    line-height: 1.2 !important;
  }
  
  /* Ultra Minimal Delivery Schedule Mobile Enhancements */
  .flex.gap-1\.5 {
    gap: 0.25rem !important;
    flex-wrap: nowrap !important;
  }
  
  .flex.gap-1\.5 > * {
    min-width: 0 !important;
    flex: 1 !important;
  }
  
  /* Compact form inputs */
  .h-8 {
    min-height: 2rem !important;
    height: 2rem !important;
  }
  
  /* Dropdown menu mobile improvements */
  [data-radix-dropdown-menu-content] {
    min-width: 8rem !important;
    max-width: 12rem !important;
  }
  
  /* Quick preset dropdown button mobile */
  .w-8.h-8.p-0 {
    min-width: 2rem !important;
    min-height: 2rem !important;
    flex-shrink: 0 !important;
  }
  
  /* Status message mobile improvements */
  .p-1\.5 {
    padding: 0.25rem 0.5rem !important;
  }
  
  /* Timezone select mobile optimization */
  .flex-1.h-8.text-xs {
    font-size: 0.6rem !important;
  }
  
  /* Ultra compact select content */
  .max-h-40 {
    max-height: 8rem !important;
  }
  
  /* Badge mobile sizing */
  .h-4 {
    height: 1rem !important;
    min-height: 1rem !important;
  }
  
  /* Two-Row Delivery Schedule Mobile Enhancements */
  .delivery-schedule .grid.grid-cols-2.gap-3,
  [data-slot="card-content"] .grid.grid-cols-2.gap-3 {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }
  
  .delivery-schedule .grid.grid-cols-3.gap-3,
  [data-slot="card-content"] .grid.grid-cols-3.gap-3 {
    grid-template-columns: 2fr 1fr !important;
    gap: 0.75rem !important;
  }
  
  /* Enhanced form elements mobile */
  .h-10 {
    min-height: 2.5rem !important;
    height: 2.5rem !important;
  }
  
  /* Enhanced button hover effects mobile */
  button[class*="hover:scale-"]:active {
    transform: scale(0.98) !important;
  }
  
  /* Status message improvements */
  .p-3 {
    padding: 0.75rem !important;
  }
  
  /* Enhanced gradient backgrounds mobile */
  .bg-gradient-to-br {
    background: linear-gradient(135deg, var(--tw-gradient-stops)) !important;
  }
  
  /* Mobile typography adjustments */
  .text-sm {
    font-size: 0.8rem !important;
    line-height: 1.2 !important;
  }
  
  /* Enhanced mobile shadows */
  .shadow-sm {
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
  }
  
  .shadow-md {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
  }
  
  .shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1) !important;
  }
  
  /* Mobile dropdown improvements */
  [data-radix-dropdown-menu-content] {
    min-width: 9rem !important;
    max-width: 14rem !important;
    font-size: 0.8rem !important;
  }
  
  /* Enhanced calendar mobile */
  [data-radix-popper-content-wrapper] .shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.15) !important;
  }
  
  /* New 6-column Time & Timezone Layout Mobile */
  .grid.grid-cols-6.gap-2 {
    grid-template-columns: 1fr 1fr 1fr !important;
    grid-template-rows: auto auto !important;
    gap: 0.5rem !important;
  }
  
  .grid.grid-cols-6.gap-2 > .col-span-1:nth-child(1),
  .grid.grid-cols-6.gap-2 > .col-span-1:nth-child(2),
  .grid.grid-cols-6.gap-2 > .col-span-1:nth-child(3) {
    grid-row: 1 !important;
  }
  
  .grid.grid-cols-6.gap-2 > .col-span-3 {
    grid-column: 1 / -1 !important;
    grid-row: 2 !important;
  }
  
  /* Compact mobile form elements */
  .h-9 {
    min-height: 2.25rem !important;
    height: 2.25rem !important;
  }
  
  /* Quick preset buttons mobile layout */
  .flex.items-center.gap-1\.5 {
    flex-wrap: wrap !important;
    gap: 0.375rem !important;
    justify-content: center !important;
  }
  
  .flex.items-center.gap-1\.5 button.h-7 {
    min-height: 1.875rem !important;
    padding: 0.25rem 0.5rem !important;
    font-size: 0.7rem !important;
  }
  
  /* Time dropdown mobile improvements */
  [data-radix-select-content] .p-2 {
    padding: 0.5rem !important;
  }
  
  [data-radix-select-content] input[type="time"] {
    font-size: 16px !important; /* Prevent iOS zoom */
    min-height: 2rem !important;
  }
  
  /* Status messages compact mobile */
  .p-2 {
    padding: 0.375rem 0.5rem !important;
  }
  
  /* Labels compact mobile spacing */
  .mb-1\.5 {
    margin-bottom: 0.25rem !important;
  }
  
  /* Card content mobile spacing refinement */
  .pt-3.pb-2 {
    padding-top: 0.75rem !important;
    padding-bottom: 0.5rem !important;
  }
  
  /* Header spacing mobile */
  .mb-2 {
    margin-bottom: 0.5rem !important;
  }
  
  /* Compact select trigger sizing */
  [data-radix-select-trigger].h-9 {
    padding: 0.375rem 0.75rem !important;
    font-size: 0.875rem !important;
  }
  
  /* Refined status icons mobile */
  .w-5.h-5.rounded-full {
    width: 1.125rem !important;
    height: 1.125rem !important;
  }
  
  .w-6.h-6.rounded-full {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }
  
  /* Quick preset 2x2 grid mobile improvements */
  .grid.grid-cols-2.gap-1\.5 {
    gap: 0.5rem !important;
  }
  
  .grid.grid-cols-2.gap-1\.5 button.h-8 {
    min-height: 2rem !important;
    padding: 0.25rem 0.5rem !important;
    font-size: 0.7rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.25rem !important;
  }
  
  .grid.grid-cols-2.gap-1\.5 button.h-8 span.text-sm {
    font-size: 0.8rem !important;
  }
  
  .grid.grid-cols-2.gap-1\.5 button.h-8 span.text-xs {
    font-size: 0.65rem !important;
    font-weight: 500 !important;
    line-height: 1 !important;
  }
  
  /* Select trigger alignment - simplified */
  [data-radix-select-trigger] {
    display: flex !important;
    align-items: center !important;
  }
  
  [data-radix-select-value] {
    display: flex !important;
    align-items: center !important;
    width: 100% !important;
  }
  
  /* Time and timezone select mobile improvements */
  .col-span-2 [data-radix-select-trigger],
  .col-span-3 [data-radix-select-trigger] {
    padding: 0.375rem 0.75rem !important;
    font-size: 0.875rem !important;
  }
  
  /* Fix Select component text display */
  [data-radix-select-value] > div {
    display: flex !important;
    align-items: center !important;
    gap: 0.375rem !important;
    width: 100% !important;
  }
  
  [data-radix-select-value] span {
    line-height: 1.2 !important;
    -webkit-font-smoothing: antialiased !important;
    display: inline-block !important;
  }
  
  [data-radix-select-value] svg {
    flex-shrink: 0 !important;
    display: inline-block !important;
  }
  
  /* Delivery schedule selectors specific fixes */
  .col-span-2 [data-radix-select-value],
  .col-span-3 [data-radix-select-value] {
    text-align: left !important;
    justify-content: flex-start !important;
  }
  
  .col-span-2 [data-radix-select-value] > div,
  .col-span-3 [data-radix-select-value] > div {
    justify-content: flex-start !important;
    text-align: left !important;
  }
  
  /* New 6-column time selector improvements */
  .grid.grid-cols-6.gap-2 [data-radix-select-trigger] {
    padding: 0.25rem 0.5rem !important;
    font-size: 0.875rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  .grid.grid-cols-6.gap-2 [data-radix-select-value] {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    text-align: center !important;
  }
  
  .grid.grid-cols-6.gap-2 [data-radix-select-value] > div {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    text-align: center !important;
  }
  
  /* Time selector dropdown improvements */
  .grid.grid-cols-6.gap-2 [data-radix-select-content] {
    min-width: 4rem !important;
    max-width: 8rem !important;
  }
  
  /* Timezone selector specific improvements for mobile */
  .col-span-3 [data-radix-select-content] {
    min-width: 280px !important;
    max-width: calc(100vw - 2rem) !important;
  }
  
  .col-span-3 [data-radix-select-item] .flex.justify-between {
    min-width: 0 !important;
    width: 100% !important;
  }
  
  .col-span-3 [data-radix-select-item] .flex-1 {
    min-width: 0 !important;
    text-align: left !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
  }
  
  /* Enhanced Calendar Navigation Dropdowns */
  .calendar-nav-dropdown [data-radix-select-trigger] {
    padding: 0.25rem 0.5rem !important;
    font-size: 0.75rem !important;
    min-height: 2rem !important;
  }
  
  .calendar-nav-dropdown [data-radix-select-content] {
    max-height: 12rem !important;
    overflow-y: auto !important;
  }
  
  /* Minute selector with full 0-59 range */
  .minute-selector [data-radix-select-content] {
    max-height: 10rem !important;
    overflow-y: auto !important;
  }
  
  /* Calendar popover enhancements */
  .enhanced-calendar-popover {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
    border-radius: 0.75rem !important;
    overflow: hidden !important;
  }
  
  .enhanced-calendar-popover .calendar-nav-header {
    background: linear-gradient(135deg, #f8fafc, #e2e8f0) !important;
    border-bottom: 1px solid #e2e8f0 !important;
  }
  
  .dark .enhanced-calendar-popover .calendar-nav-header {
    background: linear-gradient(135deg, #1e293b, #334155) !important;
    border-bottom: 1px solid #334155 !important;
  }
  
  /* Prevent calendar header bleeding */
  .delivery-date-section {
    position: relative !important;
    z-index: 1 !important;
    background: white !important;
    border-radius: 0.5rem !important;
    padding: 0.75rem !important;
    margin: 0.5rem 0 !important;
  }
  
  .dark .delivery-date-section {
    background: #1e293b !important;
  }
}

/* Create Tab - Requirements Status Window Fixes for iPhone */
@media screen and (max-width: 768px) {
  /* Requirements Status Container - Switch to grid layout on mobile */
  .flex.items-center.justify-center.gap-6.p-3.bg-muted\\/50.rounded-lg {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 0.75rem !important;
    padding: 1rem !important;
    justify-content: center !important;
    align-items: center !important;
    max-width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }
  
  /* Individual requirement items */
  .flex.items-center.justify-center.gap-6.p-3.bg-muted\\/50.rounded-lg > .flex.items-center.gap-2 {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.5rem !important;
    max-width: 100% !important;
    min-width: 0 !important;
    padding: 0.5rem !important;
    box-sizing: border-box !important;
    text-align: center !important;
    overflow: hidden !important;
  }
  
  /* Requirement status icons */
  .flex.items-center.justify-center.gap-6.p-3.bg-muted\\/50.rounded-lg .w-8.h-8.rounded-full {
    flex-shrink: 0 !important;
    width: 2rem !important;
    height: 2rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  /* Requirement status text */
  .flex.items-center.justify-center.gap-6.p-3.bg-muted\\/50.rounded-lg span.text-xs.font-medium {
    display: block !important;
    text-align: center !important;
    line-height: 1.2 !important;
    font-size: 0.7rem !important;
    max-width: 100% !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Specific text content adjustments */
  .flex.items-center.justify-center.gap-6.p-3.bg-muted\\/50.rounded-lg span.text-xs.font-medium:nth-of-type(1) {
    max-width: 100% !important;
  }
  
  /* "Delivery Date & Time" text - make it shorter on mobile */
  .flex.items-center.justify-center.gap-6.p-3.bg-muted\\/50.rounded-lg span.text-xs.font-medium:contains("Delivery Date & Time") {
    font-size: 0.65rem !important;
    line-height: 1.1 !important;
  }
  
  /* Force all requirement container children to stay within bounds */
  .flex.items-center.justify-center.gap-6.p-3.bg-muted\\/50.rounded-lg * {
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
    overflow: hidden !important;
  }
  
  /* Requirements Status header */
  .flex.items-center.justify-between.text-sm {
    max-width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }
  
  .flex.items-center.justify-between.text-sm > span.font-medium.text-muted-foreground {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: 60% !important;
    min-width: 0 !important;
  }
  
  /* Progress badge in header */
  .flex.items-center.justify-between.text-sm [class*="badge"] {
    flex-shrink: 0 !important;
    max-width: 40% !important;
    overflow: hidden !important;
    white-space: nowrap !important;
  }
}

/* iPhone-specific Requirements Status Window Fixes */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  /* More specific targeting for iPhone devices */
  
  /* Requirements Status Container - Force 2x2 grid on iPhone */
  [data-slot="card-content"] .space-y-3 .flex[class*="justify-center"][class*="gap-6"] {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    grid-template-rows: 1fr 1fr !important;
    gap: 0.5rem !important;
    padding: 0.75rem !important;
    justify-items: center !important;
    align-items: center !important;
    max-width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }
  
  /* Each requirement item gets perfect centering */
  [data-slot="card-content"] .space-y-3 .flex[class*="justify-center"][class*="gap-6"] > div {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.25rem !important;
    max-width: 100% !important;
    min-width: 0 !important;
    padding: 0.25rem !important;
    box-sizing: border-box !important;
    overflow: hidden !important;
  }
  
  /* Requirement status icons - smaller on iPhone */
  [data-slot="card-content"] .space-y-3 .flex[class*="justify-center"][class*="gap-6"] .w-8.h-8 {
    width: 1.75rem !important;
    height: 1.75rem !important;
    flex-shrink: 0 !important;
    margin-bottom: 0.125rem !important;
  }
  
  /* Requirement status text - smaller and contained */
  [data-slot="card-content"] .space-y-3 .flex[class*="justify-center"][class*="gap-6"] span.text-xs {
    font-size: 0.625rem !important;
    line-height: 1.1 !important;
    text-align: center !important;
    max-width: 100% !important;
    overflow: hidden !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
  }
  
  /* Specific text replacements for mobile */
  [data-slot="card-content"] .space-y-3 .flex[class*="justify-center"][class*="gap-6"] span.text-xs {
    word-spacing: -0.1em !important;
    letter-spacing: -0.02em !important;
  }
  
  /* Force container to never exceed viewport */
  [data-slot="card-content"] .space-y-3 {
    max-width: 100vw !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }
  
  /* All nested elements in requirements status */
  [data-slot="card-content"] .space-y-3 * {
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
  }
  
  /* Progress percentage badge - make smaller */
  [data-slot="card-content"] [class*="animate-pulse-glow"] {
    font-size: 0.6rem !important;
    padding: 0.125rem 0.375rem !important;
    max-width: 35% !important;
    overflow: hidden !important;
    white-space: nowrap !important;
  }
  
  /* Requirements Status title */
  [data-slot="card-content"] .font-medium.text-muted-foreground {
    font-size: 0.75rem !important;
    max-width: 65% !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
  }
}

/* Universal Create Capsule Requirements Status Fixes for All Mobile Devices */
@media screen and (max-width: 767px) {
  /* Target the specific requirements status container structure */
  .space-y-3 .flex.items-center.justify-center[class*="gap-6"] {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    grid-template-rows: auto auto !important;
    gap: 0.5rem !important;
    padding: 0.75rem 0.5rem !important;
    justify-items: center !important;
    align-items: center !important;
    max-width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }
  
  /* Individual requirement status items */
  .space-y-3 .flex.items-center.justify-center[class*="gap-6"] > div.flex.items-center.gap-2 {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.25rem !important;
    max-width: 100% !important;
    min-width: 0 !important;
    padding: 0.25rem !important;
    box-sizing: border-box !important;
    overflow: hidden !important;
  }
  
  /* Status icons */
  .space-y-3 .flex.items-center.justify-center[class*="gap-6"] .w-8.h-8.rounded-full {
    width: 1.5rem !important;
    height: 1.5rem !important;
    flex-shrink: 0 !important;
    margin-bottom: 0.125rem !important;
  }
  
  /* Status text labels */
  .space-y-3 .flex.items-center.justify-center[class*="gap-6"] span.text-xs.font-medium {
    font-size: 0.6rem !important;
    line-height: 1.1 !important;
    text-align: center !important;
    max-width: 100% !important;
    overflow: hidden !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
    word-spacing: -0.05em !important;
    letter-spacing: -0.01em !important;
  }
  
  /* Header with "Requirements Status" and progress badge */
  .space-y-3 .flex.items-center.justify-between.text-sm {
    max-width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
    gap: 0.5rem !important;
  }
  
  /* "Requirements Status" text */
  .space-y-3 .flex.items-center.justify-between.text-sm > span.font-medium.text-muted-foreground {
    font-size: 0.75rem !important;
    max-width: 60% !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    min-width: 0 !important;
    flex-shrink: 1 !important;
  }
  
  /* Progress percentage badge */
  .space-y-3 .flex.items-center.justify-between.text-sm [class*="animate-pulse-glow"] {
    font-size: 0.625rem !important;
    padding: 0.125rem 0.25rem !important;
    max-width: 40% !important;
    overflow: hidden !important;
    white-space: nowrap !important;
    flex-shrink: 0 !important;
  }
  
  /* Ensure the entire space-y-3 container doesn't overflow */
  .space-y-3 {
    max-width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }
  
  /* Force all children to respect container boundaries */
  .space-y-3 * {
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
  }
}

/* CreateCapsule Component iPhone Alignment Fixes */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  /* Quick Start Templates - Perfect iPhone Button Alignment */
  .grid.grid-cols-1.sm\\:grid-cols-2.lg\\:grid-cols-5.gap-4 button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.75rem !important;
    min-height: 120px !important;
    padding: 1rem !important;
    
    /* Perfect iPhone font rendering */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    
    /* Hardware acceleration */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
  }
  
  /* Template icon containers - perfect centering */
  .grid.grid-cols-1.sm\\:grid-cols-2.lg\\:grid-cols-5.gap-4 button .w-8.h-8.rounded-full {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    width: 2rem !important;
    height: 2rem !important;
    flex-shrink: 0 !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
  
  /* Template icons */
  .grid.grid-cols-1.sm\\:grid-cols-2.lg\\:grid-cols-5.gap-4 button .w-8.h-8.rounded-full svg {
    display: block !important;
    width: 1rem !important;
    height: 1rem !important;
    color: white !important;
    -webkit-align-self: center !important;
    align-self: center !important;
    vertical-align: middle !important;
  }
  
  /* Template text containers */
  .grid.grid-cols-1.sm\\:grid-cols-2.lg\\:grid-cols-5.gap-4 button .text-center {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    text-align: center !important;
    gap: 0.25rem !important;
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* Template name text */
  .grid.grid-cols-1.sm\\:grid-cols-2.lg\\:grid-cols-5.gap-4 button .font-medium.text-sm {
    display: block !important;
    text-align: center !important;
    line-height: 1.2 !important;
    font-size: 0.875rem !important;
    width: 100% !important;
    max-width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }
  
  /* Template description text */
  .grid.grid-cols-1.sm\\:grid-cols-2.lg\\:grid-cols-5.gap-4 button .text-xs.text-muted-foreground {
    display: block !important;
    text-align: center !important;
    line-height: 1.3 !important;
    font-size: 0.75rem !important;
    width: 100% !important;
    max-width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    overflow: hidden !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
  }
  
  /* Media Attachments - Choose Files Button Centering */
  .border-2.border-dashed.rounded-lg.p-6.text-center button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
    margin: 0 auto !important;
    min-height: 44px !important;
    padding: 0.75rem 1.5rem !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Choose Files button icon */
  .border-2.border-dashed.rounded-lg.p-6.text-center button svg {
    display: block !important;
    -webkit-flex-shrink: 0 !important;
    flex-shrink: 0 !important;
    width: 1rem !important;
    height: 1rem !important;
    -webkit-align-self: center !important;
    align-self: center !important;
  }
  
  /* Choose Files button text */
  .border-2.border-dashed.rounded-lg.p-6.text-center button span:not(.w-4):not(.h-4) {
    display: block !important;
    text-align: center !important;
    line-height: 1.2 !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Send To Tab Buttons - Perfect iPhone Centering */
  [data-slot="tabs-list"] .grid.w-full.grid-cols-2 button,
  .grid.w-full.grid-cols-2 [data-slot="tabs-trigger"] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    min-height: 48px !important;
    padding: 0.75rem 1rem !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    line-height: 1.2 !important;
    
    /* Hardware acceleration */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
  }
  
  /* Send To tab text ("Myself" and "Others") */
  [data-slot="tabs-list"] .grid.w-full.grid-cols-2 button span,
  .grid.w-full.grid-cols-2 [data-slot="tabs-trigger"] span {
    display: block !important;
    text-align: center !important;
    line-height: 1.2 !important;
    width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Delivery Method Selector Buttons */
  .grid.grid-cols-2.gap-2 button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
    min-height: 48px !important;
    padding: 0.75rem !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Form Labels and Text Containers - ensure proper alignment */
  .space-y-3 label,
  .space-y-4 label {
    display: block !important;
    text-align: left !important;
    line-height: 1.2 !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Contact info input fields */
  .space-y-3 input[type="email"],
  .space-y-3 input[type="tel"],
  .space-y-4 input[type="email"],
  .space-y-4 input[type="tel"] {
    font-size: 16px !important; /* Prevent iOS zoom */
    line-height: 1.2 !important;
    text-align: left !important;
    -webkit-font-smoothing: antialiased !important;
    padding: 0.75rem !important;
    min-height: 48px !important;
  }
  
  /* Tabs Content - ensure proper text alignment */
  [data-slot="tabs-content"] {
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* All form elements in CreateCapsule get proper sizing */
  .space-y-4 > * {
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
  }
}

/* Mobile Recording Studio (MobileRecorder) iPhone Text Fixes - Enhanced */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  /* Recording Mode Selector Buttons - Enhanced for MobileRecorder */
  .grid.grid-cols-3.gap-3 button,
  .grid.grid-cols-3.gap-3 [data-slot="button"] {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
    min-height: 100px !important;
    padding: 1rem !important;
    
    /* Perfect iPhone rendering */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    
    /* Hardware acceleration */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
    
    /* Ensure content containment */
    overflow: hidden !important;
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
  }
  
  /* Enhanced MobileRecorder Button Content Alignment */
  .grid.grid-cols-3.gap-3 button > div,
  .grid.grid-cols-3.gap-3 [data-slot="button"] > div {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    width: 100% !important;
    height: 100% !important;
    gap: 0.5rem !important;
    max-width: 100% !important;
    min-width: 0 !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }
  
  /* Icon containers in recording mode buttons */
  .grid.grid-cols-3.gap-3 button > div > div:first-child,
  .grid.grid-cols-3.gap-3 [data-slot="button"] > div > div:first-child {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
  }
  
  /* Text containers in recording mode buttons */
  .grid.grid-cols-3.gap-3 button > div > div:last-child,
  .grid.grid-cols-3.gap-3 [data-slot="button"] > div > div:last-child {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    text-align: center !important;
    gap: 0.25rem !important;
    width: 100% !important;
    max-width: 100% !important;
    min-width: 0 !important;
    overflow: hidden !important;
  }
  
  /* Recording mode icons */
  .grid.grid-cols-3.gap-3 button svg {
    display: block !important;
    -webkit-flex-shrink: 0 !important;
    flex-shrink: 0 !important;
    width: 1.5rem !important;
    height: 1.5rem !important;
    margin: 0 auto 0.5rem !important;
    -webkit-align-self: center !important;
    align-self: center !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
  
  /* Recording mode text - Enhanced for new button structure */
  .grid.grid-cols-3.gap-3 button .text-sm,
  .grid.grid-cols-3.gap-3 button .font-medium,
  .grid.grid-cols-3.gap-3 [data-slot="button"] .text-sm,
  .grid.grid-cols-3.gap-3 [data-slot="button"] .font-medium {
    display: block !important;
    text-align: center !important;
    line-height: 1.2 !important;
    font-size: 0.875rem !important;
    width: 100% !important;
    max-width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    box-sizing: border-box !important;
  }
  
  /* Recording mode descriptions - Enhanced for new button structure */
  .grid.grid-cols-3.gap-3 button .text-xs,
  .grid.grid-cols-3.gap-3 button .text-muted-foreground,
  .grid.grid-cols-3.gap-3 [data-slot="button"] .text-xs,
  .grid.grid-cols-3.gap-3 [data-slot="button"] .text-muted-foreground {
    display: block !important;
    text-align: center !important;
    line-height: 1.3 !important;
    font-size: 0.75rem !important;
    width: 100% !important;
    max-width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    overflow: hidden !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
    box-sizing: border-box !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  /* Quick Filters Grid */
  .grid.grid-cols-3.sm\\:grid-cols-6.gap-2 button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-orient: vertical !important;
    -webkit-box-direction: normal !important;
    -webkit-flex-direction: column !important;
    flex-direction: column !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.25rem !important;
    min-height: 80px !important;
    padding: 0.75rem 0.5rem !important;
    
    /* iPhone font rendering */
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Quick filter names */
  .grid.grid-cols-3.sm\\:grid-cols-6.gap-2 button .text-xs.font-medium {
    display: block !important;
    text-align: center !important;
    line-height: 1.2 !important;
    font-size: 0.7rem !important;
    width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }
  
  /* Quick filter previews */
  .grid.grid-cols-3.sm\\:grid-cols-6.gap-2 button .text-xs.text-muted-foreground {
    display: block !important;
    text-align: center !important;
    line-height: 1.3 !important;
    font-size: 0.65rem !important;
    width: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    overflow: hidden !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
  }
  
  /* Mobile Studio Header */
  .p-2.bg-gradient-to-r.from-pink-500.to-purple-600.rounded-lg {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
  }
  
  /* Studio header title and subtitle */
  .text-xl {
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    line-height: 1.2 !important;
  }
  
  /* Recording status indicators */
  .bg-gradient-to-r.from-red-50.to-pink-50 .flex.items-center.justify-between {
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    gap: 1rem !important;
  }
  
  /* Timer display */
  .font-mono.font-medium {
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    line-height: 1 !important;
    font-size: 1rem !important;
  }
  
  /* Control buttons in recording status - Enhanced */
  .flex.gap-1 button,
  .flex.gap-2 button {
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    min-height: 36px !important;
    min-width: 36px !important;
    gap: 0.25rem !important;
    
    /* Text rendering */
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Enhanced header button styles */
  .flex.items-center.gap-2 button,
  .flex.items-center.gap-3 button {
    min-height: 36px !important;
    min-width: 36px !important;
    display: -webkit-box !important;
    display: -webkit-flex !important;
    display: flex !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
    align-items: center !important;
    -webkit-box-pack: center !important;
    -webkit-justify-content: center !important;
    justify-content: center !important;
    gap: 0.25rem !important;
  }
  
  /* Badge text in header */
  .gap-1.px-2.py-1 span,
  [data-slot="badge"] span {
    line-height: 1 !important;
    font-size: 0.75rem !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* Timer display text */
  .font-mono.font-bold.text-lg.tabular-nums {
    line-height: 1 !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    font-feature-settings: 'tnum' 1 !important;
  }
}

/* Enhanced Mobile Recording Studio Interactions */
@media screen and (max-width: 768px) {
  /* Touch-friendly button sizing */
  .mobile-recorder button,
  .mobile-recorder [data-slot="button"] {
    min-height: 44px !important;
    min-width: 44px !important;
    touch-action: manipulation !important;
  }
  
  /* Enhanced gradient backgrounds for mobile */
  .bg-gradient-to-br {
    background-attachment: fixed !important;
  }
  
  /* Prevent text zoom on iOS */
  .mobile-recorder input,
  .mobile-recorder textarea,
  .mobile-recorder select {
    font-size: 16px !important;
  }
  
  /* Enhanced status indicators */
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite !important;
  }
  
  .animate-ping {
    animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite !important;
  }
  
  /* Mobile Studio specific button enhancements */
  .grid.grid-cols-3.gap-3 [data-slot="button"]:hover {
    transform: scale(1.02) !important;
    transition: transform 0.2s ease !important;
  }
  
  .grid.grid-cols-3.gap-3 [data-slot="button"]:active {
    transform: scale(0.98) !important;
  }
  
  /* Enhanced workflow progress indicators */
  .workflow-indicator .animate-pulse {
    animation: pulse 1.5s ease-in-out infinite !important;
  }
  
  /* Premium shadow effects for mobile studio */
  .shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  }
  
  /* Enhanced border radius for modern feel */
  .rounded-xl {
    border-radius: 0.75rem !important;
  }
}

/* Mobile Studio Premium Animations */
@keyframes studio-glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(168, 85, 247, 0.5);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.8), 0 0 30px rgba(168, 85, 247, 0.6);
    transform: scale(1.02);
  }
}

@keyframes filter-selection {
  0% {
    transform: scale(1) rotate(0deg);
  }
  50% {
    transform: scale(1.1) rotate(2deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
  }
}

@keyframes recording-pulse-enhanced {
  0%, 100% { 
    opacity: 1; 
    transform: scale(1); 
    box-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
  }
  50% { 
    opacity: 0.8; 
    transform: scale(1.05); 
    box-shadow: 0 0 25px rgba(239, 68, 68, 0.8);
  }
}

.animate-studio-glow {
  animation: studio-glow 3s ease-in-out infinite;
}

.animate-filter-selection {
  animation: filter-selection 0.3s ease-out;
}

.animate-recording-pulse-enhanced {
  animation: recording-pulse-enhanced 2s ease-in-out infinite;
}

/* Universal Mobile Button Grid Improvements */
@media screen and (max-width: 768px) {
  /* Any 3-column grid of buttons gets mobile-optimized layout */
  .grid.grid-cols-3 button,
  .grid[class*="grid-cols-3"] button {
    min-height: 80px !important;
    padding: 0.75rem 0.5rem !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
  }
  
  /* 4-column navigation grid - Dashboard, Create, Enhance, Record */
  .grid.grid-cols-4.sm\:flex button,
  .grid.grid-cols-4 button,
  .grid[class*="grid-cols-4"] button,
  .mb-6 .grid.grid-cols-4 button,
  .mb-8 .grid.grid-cols-4 button,
  button.group.relative.flex.flex-col {
    min-height: 100px !important;
    padding: 0.875rem 0.375rem !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 0.5rem !important;
    overflow: visible !important;
    box-sizing: border-box !important;
  }
  
  /* 4-column button text - FORCE wrapping, BLOCK truncation */
  .grid.grid-cols-4.sm\:flex button span,
  .grid.grid-cols-4 button span,
  .grid[class*="grid-cols-4"] button span,
  .mb-6 .grid.grid-cols-4 button span,
  .mb-8 .grid.grid-cols-4 button span,
  button.group.relative.flex.flex-col span.text-xs,
  button.group.relative.flex.flex-col span.sm\:text-sm,
  button.group.relative span.leading-none {
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    word-break: normal !important;
    line-height: 1.3 !important;
    max-width: 100% !important;
    min-width: 0 !important;
    width: 100% !important;
    display: block !important;
    text-align: center !important;
    hyphens: auto !important;
    -webkit-hyphens: auto !important;
    padding: 0 0.125rem !important;
    margin: 0 !important;
    font-size: 0.7rem !important;
  }
  
  /* 4-column button icons - smaller to save space */
  .grid.grid-cols-4 button svg,
  .grid[class*="grid-cols-4"] button svg,
  .mb-6 .grid.grid-cols-4 button svg,
  .mb-8 .grid.grid-cols-4 button svg {
    flex-shrink: 0 !important;
    width: 1.125rem !important;
    height: 1.125rem !important;
    margin-bottom: 0.25rem !important;
  }
  
  /* Any 6-column grid (like quick filters) gets compact layout */
  .grid.grid-cols-6 button,
  .grid[class*="grid-cols-6"] button {
    min-height: 70px !important;
    padding: 0.5rem 0.25rem !important;
    font-size: 0.75rem !important;
  }
  
  /* Ensure all mobile grid buttons have proper text containment */
  .grid button {
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
    overflow: visible !important;
  }
  
  .grid button * {
    max-width: 100% !important;
    min-width: 0 !important;
    box-sizing: border-box !important;
  }
  
  /* FORCE Remove any truncation utilities on navigation buttons */
  .grid.grid-cols-4 button .truncate,
  .grid[class*="grid-cols-4"] button .truncate,
  .grid.grid-cols-4 button [class*="truncate"],
  .grid[class*="grid-cols-4"] button [class*="truncate"] {
    overflow: visible !important;
    text-overflow: clip !important;
    white-space: normal !important;
    word-wrap: break-word !important;
  }
  
  /* FORCE Remove line-clamp on navigation buttons */
  .grid.grid-cols-4 button .line-clamp-1,
  .grid.grid-cols-4 button .line-clamp-2,
  .grid[class*="grid-cols-4"] button .line-clamp-1,
  .grid[class*="grid-cols-4"] button .line-clamp-2,
  .grid.grid-cols-4 button [class*="line-clamp"],
  .grid[class*="grid-cols-4"] button [class*="line-clamp"] {
    display: block !important;
    -webkit-line-clamp: unset !important;
    -webkit-box-orient: unset !important;
    overflow: visible !important;
    white-space: normal !important;
    max-height: none !important;
  }
  
  /* Override any text-xs or text-sm classes on nav buttons to ensure readability */
  .grid.grid-cols-4 button .text-xs,
  .grid.grid-cols-4 button .text-sm,
  .grid[class*="grid-cols-4"] button .text-xs,
  .grid[class*="grid-cols-4"] button .text-sm {
    font-size: 0.75rem !important;
    line-height: 1.15 !important;
    white-space: normal !important;
    word-wrap: break-word !important;
  }
}

/* Remember Me Checkbox - ABSOLUTE SQUARE ENFORCEMENT */
.remember-me-container {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  max-width: 100% !important;
}

.remember-me-container .checkbox-wrapper {
  display: inline-block !important;
  width: 10px !important;
  height: 10px !important;
  min-width: 10px !important;
  min-height: 10px !important;
  max-width: 10px !important;
  max-height: 10px !important;
  flex-shrink: 0 !important;
  flex-grow: 0 !important;
  overflow: visible !important;
}

.remember-me-container #remember-me,
.remember-me-container [data-slot="checkbox"] {
  width: 10px !important;
  height: 10px !important;
  min-width: 10px !important;
  min-height: 10px !important;
  max-width: 10px !important;
  max-height: 10px !important;
  aspect-ratio: 1 / 1 !important;
  display: inline-flex !important;
  flex-shrink: 0 !important;
  flex-grow: 0 !important;
  box-sizing: border-box !important;
  padding: 0 !important;
  margin: 0 !important;
  border-width: 1px !important;
  transform: none !important;
  -webkit-transform: none !important;
}

/* Mobile-specific remember-me checkbox enforcement */
@media screen and (max-width: 768px) {
  .remember-me-container #remember-me,
  .remember-me-container [data-slot="checkbox"] {
    width: 10px !important;
    height: 10px !important;
    min-width: 10px !important;
    min-height: 10px !important;
    max-width: 10px !important;
    max-height: 10px !important;
    -webkit-appearance: none !important;
    appearance: none !important;
    flex: 0 0 10px !important;
  }
}

/* iPhone-specific remember-me checkbox enforcement */
@supports (-webkit-touch-callout: none) {
  .remember-me-container #remember-me,
  .remember-me-container [data-slot="checkbox"] {
    width: 10px !important;
    height: 10px !important;
    min-width: 10px !important;
    min-height: 10px !important;
    max-width: 10px !important;
    max-height: 10px !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
}

/* Global Checkbox Size Reduction - ULTIMATE SQUARE ENFORCEMENT */
[data-slot="checkbox"],
button[data-slot="checkbox"],
[role="checkbox"] {
  /* CRITICAL: Force exact 10x10px square with inline styles override */
  width: 10px !important;
  height: 10px !important;
  min-width: 10px !important;
  min-height: 10px !important;
  max-width: 10px !important;
  max-height: 10px !important;
  
  /* Multiple square-forcing techniques */
  aspect-ratio: 1 / 1 !important;
  
  /* CRITICAL: Border and padding in border-box model */
  box-sizing: border-box !important;
  border-width: 1px !important;
  padding: 0 !important;
  margin: 0 !important;
  
  /* Prevent flex/grid stretching */
  flex-shrink: 0 !important;
  flex-grow: 0 !important;
  align-self: center !important;
  
  /* Visual styling */
  border-radius: 2px !important;
  
  /* Layout - perfect centering */
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  
  /* CRITICAL: Prevent ANY transformations or distortions */
  transform: none !important;
  transform-origin: center !important;
  
  /* Prevent text/content from affecting size */
  font-size: 0 !important;
  line-height: 0 !important;
  
  /* Force specific positioning */
  position: relative !important;
  vertical-align: middle !important;
}

/* MOBILE SPECIFIC: Extra enforcement for touch devices */
@media (hover: none) and (pointer: coarse) {
  [data-slot="checkbox"],
  button[data-slot="checkbox"],
  [role="checkbox"] {
    /* CRITICAL: Absolutely enforce 10x10 on mobile */
    width: 10px !important;
    height: 10px !important;
    min-width: 10px !important;
    min-height: 10px !important;
    max-width: 10px !important;
    max-height: 10px !important;
    
    /* Prevent mobile browser auto-sizing */
    -webkit-appearance: none !important;
    appearance: none !important;
    
    /* Create larger invisible touch target */
    position: relative !important;
  }
  
  /* Larger touch target with pseudo-element */
  [data-slot="checkbox"]::before,
  button[data-slot="checkbox"]::before,
  [role="checkbox"]::before {
    content: '' !important;
    position: absolute !important;
    top: -10px !important;
    left: -10px !important;
    right: -10px !important;
    bottom: -10px !important;
    z-index: -1 !important;
  }
}

/* Checkbox indicator - perfect centering and sizing */
[data-slot="checkbox-indicator"] {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 100% !important;
  height: 100% !important;
  padding: 0 !important;
  margin: 0 !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
}

/* Checkbox icon - proportional 6x6px */
[data-slot="checkbox-indicator"] svg {
  width: 6px !important;
  height: 6px !important;
  min-width: 6px !important;
  min-height: 6px !important;
  max-width: 6px !important;
  max-height: 6px !important;
  flex-shrink: 0 !important;
  stroke-width: 3 !important;
  display: block !important;
  position: relative !important;
}

/* Override ANY conflicting Tailwind classes */
[data-slot="checkbox"].size-4,
[data-slot="checkbox"].size-3,
[data-slot="checkbox"].size-5,
[data-slot="checkbox"][class*="size-"],
[data-slot="checkbox"][class*="w-"],
[data-slot="checkbox"][class*="h-"] {
  width: 10px !important;
  height: 10px !important;
  min-width: 10px !important;
  min-height: 10px !important;
  max-width: 10px !important;
  max-height: 10px !important;
}

/* Prevent parent containers from distorting checkbox */
label [data-slot="checkbox"],
.flex [data-slot="checkbox"],
.flex-1 [data-slot="checkbox"],
.grid [data-slot="checkbox"],
div [data-slot="checkbox"] {
  width: 10px !important;
  height: 10px !important;
  flex-shrink: 0 !important;
  flex-grow: 0 !important;
}

/* CRITICAL: Desktop and mobile unified enforcement */
@media screen {
  [data-slot="checkbox"],
  button[data-slot="checkbox"],
  [role="checkbox"] {
    /* Backup with calc() in case rem fails */
    width: calc(10px) !important;
    height: calc(10px) !important;
    
    /* Prevent scaling */
    scale: 1 !important;
    zoom: 1 !important;
  }
}

/* CRITICAL: Universal Mobile Text Display Fixes - Prevent Text Cutoff */
@media screen and (max-width: 768px) {
  /* Ensure all text containers properly wrap instead of truncating */
  * {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  /* Dashboard Card Titles - Allow Full Display */
  [data-slot="card-title"],
  .line-clamp-2,
  .line-clamp-1,
  .line-clamp-3 {
    display: block !important;
    -webkit-line-clamp: unset !important;
    -webkit-box-orient: unset !important;
    overflow: visible !important;
    white-space: normal !important;
    max-height: none !important;
    line-height: 1.4 !important;
  }
  
  /* Prevent truncate class from cutting off text on mobile */
  .truncate {
    overflow: visible !important;
    text-overflow: clip !important;
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  /* Dashboard specific fixes */
  [data-slot="card-header"] [data-slot="card-title"] {
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
    line-height: 1.4 !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
  }
  
  /* Capsule content preview text - show fully */
  .text-muted-foreground.line-clamp-2 {
    display: block !important;
    -webkit-line-clamp: unset !important;
    overflow: visible !important;
    white-space: normal !important;
    line-height: 1.4 !important;
  }
  
  /* Email and phone recipient text - prevent cutoff */
  .font-medium.truncate.text-foreground {
    overflow: visible !important;
    text-overflow: clip !important;
    white-space: normal !important;
    word-break: break-all !important;
  }
  
  /* Ensure flex containers don't force text cutoff */
  .flex-1.min-w-0 {
    min-width: 0 !important;
    flex: 1 1 auto !important;
    overflow: visible !important;
  }
  
  /* Card content spacing to accommodate longer text */
  [data-slot="card-content"] {
    padding: 1rem !important;
  }
  
  [data-slot="card-header"] {
    padding: 1rem !important;
  }
  
  /* Dashboard delivery time text - allow wrapping */
  .flex.items-center.gap-1\.5 span {
    white-space: normal !important;
    word-wrap: break-word !important;
    line-height: 1.3 !important;
  }
  
  /* Status badges - allow text to be fully visible */
  [data-slot="badge"] {
    white-space: nowrap !important;
    flex-shrink: 0 !important;
  }
  
  /* Message preview text */
  p.text-xs.leading-snug,
  p.text-sm.leading-snug {
    white-space: normal !important;
    line-height: 1.4 !important;
    overflow: visible !important;
  }
  
  /* Delivery date/time display */
  .flex.items-center.gap-1\.5 > span.font-medium {
    white-space: normal !important;
    word-wrap: break-word !important;
    flex: 1 !important;
    min-width: 0 !important;
  }
  
  /* Dashboard stats cards - ensure numbers and labels show fully */
  .text-3xl.font-bold,
  .text-4xl.font-bold {
    font-size: 1.875rem !important; /* Slightly smaller on mobile to fit */
    line-height: 1.2 !important;
  }
  
  .text-xs.uppercase.tracking-wide {
    font-size: 0.7rem !important;
    line-height: 1.2 !important;
    word-wrap: break-word !important;
  }
  
  /* Search and filter inputs - ensure text is visible */
  input[type="text"],
  input[type="search"] {
    padding: 0.75rem !important;
    font-size: 16px !important; /* Prevent iOS zoom */
    line-height: 1.2 !important;
  }
  
  /* Select trigger text */
  [data-radix-select-trigger] span,
  [data-slot="select-trigger"] span {
    white-space: normal !important;
    overflow: visible !important;
    word-wrap: break-word !important;
  }
  
  /* Button text on mobile - allow wrapping */
  button span:not(.w-4):not(.h-4):not(.shrink-0) {
    white-space: normal !important;
    word-wrap: break-word !important;
    line-height: 1.3 !important;
    text-align: center !important;
  }
  
  /* Capsule action buttons - ensure labels are fully visible */
  .flex-1.justify-center button span {
    white-space: normal !important;
    line-height: 1.2 !important;
    padding: 0.125rem 0 !important;
  }
  
  /* Time zone abbreviations and labels */
  .text-xs.text-muted-foreground {
    white-space: normal !important;
    word-wrap: break-word !important;
    line-height: 1.3 !important;
  }
  
  /* Dashboard header welcome text */
  .text-sm.font-medium,
  .text-base.font-medium {
    white-space: normal !important;
    word-wrap: break-word !important;
    line-height: 1.3 !important;
  }
  
  /* Navigation button labels */
  .text-xs.font-medium,
  .text-sm.font-medium {
    white-space: normal !important;
    line-height: 1.3 !important;
    text-align: center !important;
  }
  
  /* Card spacing adjustments for better text readability */
  .space-y-2 {
    gap: 0.75rem !important;
  }
  
  .space-y-3 {
    gap: 1rem !important;
  }
  
  .space-y-4 {
    gap: 1.25rem !important;
  }
  
  /* Ensure adequate line height for all text */
  p, span, div:not([class*="flex"]):not([class*="grid"]) {
    line-height: 1.4 !important;
  }
  
  /* Dashboard capsule cards - extra padding for better text display */
  .space-y-4 > div[data-slot="card"] {
    margin-bottom: 1rem !important;
  }
  
  /* Ensure long email addresses don't overflow */
  [data-slot="card-content"] .flex.items-center.gap-1\.5 {
    overflow: visible !important;
    flex-wrap: wrap !important;
  }
  
  /* Allow text content to expand cards as needed */
  [data-slot="card"] {
    overflow: visible !important;
  }
  
  /* Fix for status indicator text */
  .bg-blue-100 span,
  .bg-green-100 span,
  .bg-red-100 span {
    white-space: normal !important;
    word-wrap: break-word !important;
  }
  
  /* Fix for relative time indicators */
  .text-xs.text-muted-foreground.pl-0 {
    white-space: normal !important;
    word-wrap: break-word !important;
    padding-left: 0 !important;
  }
}

/* Dashboard Tab Cards Mobile Text Fixes */
@media screen and (max-width: 768px) {
  /* Dashboard stat cards - "All Capsules", "Scheduled", "Delivered", "Drafts" */
  .grid.grid-cols-2.lg\\:grid-cols-4 [data-slot="card-content"] p.text-sm.sm\\:text-base,
  .grid.grid-cols-2.lg\\:grid-cols-4 [data-slot="card-content"] .text-sm.sm\\:text-base,
  .grid.grid-cols-2 [data-slot="card-content"] p.text-sm,
  .grid.grid-cols-2 [data-slot="card-content"] .font-medium.text-muted-foreground {
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    line-height: 1.2 !important;
    font-size: 0.8rem !important;
    text-align: center !important;
    max-width: 100% !important;
    display: block !important;
    hyphens: auto !important;
    -webkit-hyphens: auto !important;
  }
  
  /* Dashboard stat card containers - ensure proper spacing */
  .grid.grid-cols-2.lg\\:grid-cols-4 [data-slot="card"],
  .grid.grid-cols-2 [data-slot="card"] {
    min-height: 140px !important;
    overflow: visible !important;
  }
  
  .grid.grid-cols-2.lg\\:grid-cols-4 [data-slot="card-content"],
  .grid.grid-cols-2 [data-slot="card-content"] {
    padding: 1rem !important;
    overflow: visible !important;
  }
  
  /* Stat card inner content wrapper */
  .grid.grid-cols-2.lg\\:grid-cols-4 .space-y-1,
  .grid.grid-cols-2 .space-y-1 {
    gap: 0.25rem !important;
    max-width: 100% !important;
    overflow: visible !important;
  }
  
  /* Numbers in stat cards */
  .grid.grid-cols-2.lg\\:grid-cols-4 p.text-3xl,
  .grid.grid-cols-2.lg\\:grid-cols-4 p.text-4xl,
  .grid.grid-cols-2 .font-bold {
    font-size: 1.875rem !important;
    line-height: 1.2 !important;
  }
}

/* CreateCapsule Universal Mobile Improvements */
@media screen and (max-width: 767px) {
  /* Quick Start Templates - Mobile Grid Layout */
  .grid.grid-cols-1.sm\\:grid-cols-2.lg\\:grid-cols-5.gap-4 {
    grid-template-columns: 1fr 1fr !important;
    gap: 0.75rem !important;
  }
  
  /* Media Attachments Upload Area */
  .border-2.border-dashed.rounded-lg.p-6 {
    padding: 1rem !important;
    text-align: center !important;
  }
  
  /* Media upload text */
  .border-2.border-dashed.rounded-lg.p-6 p {
    font-size: 0.875rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0.5rem !important;
    text-align: center !important;
  }
  
  /* Send To tabs get proper mobile sizing */
  [data-slot="tabs-list"] {
    margin-bottom: 1rem !important;
  }
  
  /* Tab triggers mobile optimization */
  [data-slot="tabs-trigger"] {
    min-height: 48px !important;
    padding: 0.75rem 1rem !important;
    font-size: 0.875rem !important;
  }
  
  /* Form spacing improvements */
  .space-y-3 {
    gap: 0.75rem !important;
  }
  
  .space-y-4 {
    gap: 1rem !important;
  }
  
  /* Delivery Schedule Mobile Improvements */
  .grid.grid-cols-1.md\\:grid-cols-2.gap-4 {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }
  
  /* Calendar button improvements */
  button[class*="h-12"] {
    min-height: 3rem !important;
    padding: 0.75rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: flex-start !important;
    text-align: left !important;
  }
  
  /* Time input styling */
  input[type="time"][class*="h-12"] {
    min-height: 3rem !important;
    padding: 0.75rem !important;
    font-size: 1rem !important;
    text-align: center !important;
  }
  
  /* Select trigger styling */
  [data-slot="select-trigger"][class*="h-12"] {
    min-height: 3rem !important;
    padding: 0.75rem !important;
  }
  
  /* Modern Requirements Status Mobile */
  .relative.overflow-hidden.rounded-xl {
    margin: 0 -0.5rem !important;
    border-radius: 0.75rem !important;
  }
  
  /* Requirements status indicators */
  .flex.items-center.justify-between.gap-3 {
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
  }
  
  .flex.items-center.justify-between.gap-3 > div.flex.items-center.gap-2.flex-1 {
    flex: 1 1 45% !important;
    min-width: 45% !important;
    justify-content: center !important;
    padding: 0.25rem !important;
  }
  
  /* Status indicator text sizing */
  .flex.items-center.justify-between.gap-3 span.text-xs {
    font-size: 0.65rem !important;
    text-align: center !important;
    white-space: nowrap !important;
  }
  
  /* Progress bar container */
  .flex.items-center.gap-2 .h-2.w-16 {
    width: 3rem !important;
    height: 0.375rem !important;
  }
  
  /* Recipients Section Tab Alignment */
  [data-slot="card-header"] + [data-slot="card-content"] [data-slot="tabs-list"] {
    margin-top: 0 !important;
    margin-bottom: 1rem !important;
  }
  
  /* Tab triggers in Recipients section */
  [data-slot="tabs-list"].grid.w-full.grid-cols-2 [data-slot="tabs-trigger"] {
    min-height: 3rem !important;
    padding: 0.75rem 1rem !important;
    font-size: 0.875rem !important;
    font-weight: 500 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
  }
  
  /* Delivery method buttons */
  .grid.grid-cols-2.gap-2 button {
    min-height: 3rem !important;
    padding: 0.75rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.5rem !important;
    text-align: center !important;
  }
  
  /* Calendar popover improvements */
  [data-radix-popper-content-wrapper] {
    z-index: 10000 !important;
  }
  
  /* Calendar sizing on mobile */
  .rdp {
    max-width: calc(100vw - 2rem) !important;
    margin: 0 auto !important;
  }
  
  /* Calendar buttons */
  .rdp-button {
    min-height: 2.5rem !important;
    min-width: 2.5rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  /* Select dropdown mobile improvements */
  [data-slot="select-content"] {
    max-height: 15rem !important;
    max-width: calc(100vw - 2rem) !important;
  }
  
  /* Select items with timezone info */
  [data-slot="select-item"] .flex.flex-col.items-start {
    width: 100% !important;
    min-width: 0 !important;
  }
  
  /* Timezone label truncation */
  [data-slot="select-item"] .font-medium {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: 100% !important;
  }
  
  /* Submit buttons container */
  .flex.gap-3.justify-center {
    gap: 0.75rem !important;
    flex-direction: column !important;
  }
  
  .flex.gap-3.justify-center button {
    width: 100% !important;
    min-height: 3rem !important;
    font-size: 0.875rem !important;
  }
}

/* Required Field Badge Positioning - iPhone Mobile Fixes */
@media screen and (max-width: 768px) {
  /* Universal Required badge positioning fixes for all form contexts */
  [data-slot="badge"][class*="destructive"]:contains("Required"),
  .bg-destructive.text-xs:contains("Required"),
  .variant-destructive:contains("Required"),
  [class*="bg-destructive"]:contains("Required") {
    margin-left: 0.75rem !important;
    margin-right: 0.5rem !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
    position: relative !important;
    top: 0 !important;
    vertical-align: middle !important;
    line-height: 1 !important;
    
    /* Better visual separation and sizing */
    padding: 0.125rem 0.375rem !important;
    border-radius: 0.25rem !important;
    font-size: 0.625rem !important;
    font-weight: 500 !important;
    min-height: 1.25rem !important;
    
    /* Perfect centering with text */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
  }
  
  /* Specific Badge component targeting by class structure */
  .inline-flex.items-center.rounded-full.border.px-2\.5.py-0\.5.text-xs.font-semibold,
  .inline-flex.items-center.rounded-md.border.px-2\.5.py-0\.5.text-xs.font-semibold {
    margin-left: 0.75rem !important;
    margin-right: 0.5rem !important;
    padding: 0.125rem 0.375rem !important;
    font-size: 0.625rem !important;
    min-height: 1.25rem !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1 !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
  
  /* CreateCapsule form label containers - ensure proper structure */
  .form-field-focus label.flex.items-center.gap-2,
  label.flex.items-center.gap-2,
  .flex.items-center.gap-2:has([data-slot="badge"]) {
    gap: 0.25rem !important;
    align-items: center !important;
    line-height: 1.2 !important;
    display: flex !important;
    flex-wrap: nowrap !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
  }
  
  /* Label text content - prevent interference with badge */
  label.flex.items-center.gap-2 > span:first-child:not([data-slot]),
  .flex.items-center.gap-2 > span:first-child:not([data-slot]) {
    flex: 0 0 auto !important;
    margin-right: 0 !important;
    line-height: 1.2 !important;
    font-weight: 500 !important;
  }
  
  /* Status icons (CheckCircle, AlertCircle) after required badge */
  label.flex.items-center.gap-2 svg,
  .flex.items-center.gap-2 svg {
    margin-left: 0.375rem !important;
    flex-shrink: 0 !important;
    align-self: center !important;
    position: relative !important;
    top: 0 !important;
    vertical-align: middle !important;
  }
  
  /* Form field containers get proper spacing */
  .form-field-focus {
    margin-bottom: 1rem !important;
  }
  
  .form-field-focus label {
    margin-bottom: 0.5rem !important;
    display: block !important;
  }
}

/* iPhone-specific Required Badge positioning - High DPI devices */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  /* Target the specific Badge variant="destructive" pattern from CreateCapsule */
  .space-y-4 label.flex.items-center.gap-2 [class*="destructive"],
  .space-y-3 label.flex.items-center.gap-2 [class*="destructive"],
  [data-slot="card-content"] label.flex.items-center.gap-2 [class*="destructive"] {
    margin-left: 1rem !important;
    margin-right: 0.625rem !important;
    padding: 0.125rem 0.375rem !important;
    font-size: 0.6rem !important;
    min-height: 1.125rem !important;
    border-radius: 0.25rem !important;
    
    /* Perfect iPhone rendering */
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1 !important;
    vertical-align: middle !important;
    
    /* Hardware acceleration for smooth rendering */
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
  }
  
  /* Ensure proper text spacing in form labels */
  .space-y-4 label.flex.items-center.gap-2,
  .space-y-3 label.flex.items-center.gap-2,
  [data-slot="card-content"] label.flex.items-center.gap-2 {
    gap: 0.25rem !important;
    align-items: center !important;
    display: flex !important;
    flex-wrap: nowrap !important;
    line-height: 1.2 !important;
    min-height: 1.5rem !important;
    
    /* iPhone-specific flex alignment */
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
  }
  
  /* CheckCircle and AlertCircle icons positioning */
  .space-y-4 label.flex.items-center.gap-2 svg.w-4.h-4,
  .space-y-3 label.flex.items-center.gap-2 svg.w-4.h-4,
  [data-slot="card-content"] label.flex.items-center.gap-2 svg.w-4.h-4 {
    margin-left: 0.5rem !important;
    margin-right: 0.25rem !important;
    flex-shrink: 0 !important;
    width: 1rem !important;
    height: 1rem !important;
    position: relative !important;
    top: 0 !important;
    vertical-align: middle !important;
    -webkit-align-self: center !important;
    align-self: center !important;
  }
}

/* ShadCN Badge Component Required Field Fixes - All Mobile Devices */
@media screen and (max-width: 768px) {
  /* Direct targeting of ShadCN Badge components with "Required" text */
  [data-slot="badge"]:has(*):-moz-any-link,
  [data-slot="badge"]:contains("Required"),
  .inline-flex.items-center.text-xs:contains("Required"),
  .inline-flex.items-center[class*="px-2"]:contains("Required") {
    margin-left: 0.875rem !important;
    margin-right: 0.5rem !important;
    padding: 0.125rem 0.375rem !important;
    font-size: 0.625rem !important;
    line-height: 1 !important;
    min-height: 1.125rem !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
    vertical-align: middle !important;
    position: relative !important;
    top: 0 !important;
    
    /* Enhanced mobile rendering */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    border-radius: 0.25rem !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
  
  /* Fallback for any Badge component in form labels */
  .form-field-focus label [class*="badge"],
  label.flex.items-center.gap-2 [class*="badge"],
  .flex.items-center.gap-2 [class*="badge"] {
    margin-left: 0.875rem !important;
    margin-right: 0.5rem !important;
    flex-shrink: 0 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1 !important;
    vertical-align: middle !important;
  }
  
  /* Badge text content specific fixes */
  [data-slot="badge"] span,
  .inline-flex.items-center.text-xs span,
  [class*="badge"] span {
    line-height: 1 !important;
    display: inline-block !important;
    vertical-align: middle !important;
    -webkit-font-smoothing: antialiased !important;
    font-synthesis: none !important;
  }
}

/* CreateCapsule Specific Required Badge Mobile Positioning */
@media screen and (max-width: 768px) {
  /* Target the exact structure from CreateCapsule component */
  .space-y-4 .form-field-focus label.flex.items-center.gap-2 > *:nth-child(2),
  .space-y-3 .form-field-focus label.flex.items-center.gap-2 > *:nth-child(2),
  [data-slot="card-content"] .form-field-focus label.flex.items-center.gap-2 > *:nth-child(2) {
    margin-left: 0.875rem !important;
    margin-right: 0.5rem !important;
  }
  
  /* Ensure status icons (3rd and 4th children) are properly spaced */
  .space-y-4 .form-field-focus label.flex.items-center.gap-2 > *:nth-child(3),
  .space-y-4 .form-field-focus label.flex.items-center.gap-2 > *:nth-child(4),
  .space-y-3 .form-field-focus label.flex.items-center.gap-2 > *:nth-child(3),
  .space-y-3 .form-field-focus label.flex.items-center.gap-2 > *:nth-child(4),
  [data-slot="card-content"] .form-field-focus label.flex.items-center.gap-2 > *:nth-child(3),
  [data-slot="card-content"] .form-field-focus label.flex.items-center.gap-2 > *:nth-child(4) {
    margin-left: 0.375rem !important;
    margin-right: 0.25rem !important;
    flex-shrink: 0 !important;
  }
}

/* Universal Required Badge Mobile Fix - Comprehensive Solution */
@media screen and (max-width: 768px) {
  /* Universal selector for any element containing "Required" text in form contexts */
  form [class*="destructive"]:contains("Required"),
  .space-y-4 [class*="destructive"]:contains("Required"),
  .space-y-3 [class*="destructive"]:contains("Required"),
  [data-slot="card-content"] [class*="destructive"]:contains("Required"),
  form *:contains("Required"),
  label *:contains("Required") {
    margin-left: 0.875rem !important;
    margin-right: 0.5rem !important;
    padding: 0.125rem 0.375rem !important;
    font-size: 0.625rem !important;
    line-height: 1 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
    vertical-align: middle !important;
    min-height: 1.125rem !important;
    border-radius: 0.25rem !important;
    
    /* Perfect mobile rendering */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    font-synthesis: none !important;
    text-rendering: geometricPrecision !important;
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
  }
}

/* Simplified Dashboard Selection Styling */
.dashboard-selection-area {
  transition: all 0.2s ease;
}

.dashboard-selection-area:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Mobile selection improvements */
@media screen and (max-width: 768px) {
  /* Better touch targets for mobile */
  .dashboard-selection-area {
    min-height: 6rem;
  }
  
  /* Enhanced mobile selection feedback */
  .dashboard-selection-area:active {
    transform: scale(0.98);
  }
}

/* Final Fallback Required Badge Positioning - All Mobile */
@media screen and (max-width: 768px) {
  /* CSS attribute selector for any element with "Required" as text content */
  [class*="flex"][class*="items-center"][class*="gap-2"] > [class*="text-xs"]:not(svg):not(button) {
    margin-left: 0.75rem !important;
    margin-right: 0.5rem !important;
    flex-shrink: 0 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1 !important;
    vertical-align: middle !important;
  }
  
  /* Force any small red badge in form labels to have proper spacing */
  label.flex [class*="bg-red"],
  label.flex [class*="bg-destructive"],
  label.flex [class*="text-red"],
  .flex.items-center [class*="bg-red"],
  .flex.items-center [class*="bg-destructive"],
  .flex.items-center [class*="text-red"] {
    margin-left: 0.875rem !important;
    margin-right: 0.5rem !important;
    flex-shrink: 0 !important;
    padding: 0.125rem 0.375rem !important;
    font-size: 0.625rem !important;
    line-height: 1 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    vertical-align: middle !important;
    min-height: 1.125rem !important;
    border-radius: 0.25rem !important;
  }
  
  /* Ensure form labels have proper structure on mobile */
  .form-field-focus label,
  .space-y-4 label,
  .space-y-3 label {
    display: flex !important;
    align-items: center !important;
    flex-wrap: nowrap !important;
    gap: 0.25rem !important;
    line-height: 1.2 !important;
    min-height: 1.5rem !important;
    -webkit-box-align: center !important;
    -webkit-align-items: center !important;
  }
}
